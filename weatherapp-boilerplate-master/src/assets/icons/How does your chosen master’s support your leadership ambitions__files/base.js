/* [@grammarly-license] license information can be found in https://denali-static.grammarly.com/licenses.txt */(window.webpackJsonp=window.webpackJsonp||[]).push([[6,137],{"/H08":function(e,t,n){"use strict";n.d(t,"c",(function(){return te})),n.d(t,"b",(function(){return ne})),n.d(t,"a",(function(){return ae}));var a=n("ERkP"),o=n("vOOZ"),r=n("9NHN"),s=n("LNSM"),i=n("xlCj"),l=n("zR/0"),c=n("D9EC"),m=n("PrA7"),d=n("mEc7"),u=n("zoQI"),p=n("I7vG"),h=n("rk+4"),g=n("aIes"),b=n("rmLU"),E=n("ot6E");const f=({source:e,linkClassName:t})=>a.createElement(u.b,{className:t,onClick:()=>{try{localStorage.setItem("pageReloadReason",JSON.stringify({source:e,location:window.location.href,timestamp:Date.now()}))}catch(e){}window.location.reload()}},"try to reload the page"),v=({errorMessage:e,linkClassName:t})=>{const n=a.useContext(b.a.Context);return a.createElement("div",{title:e},"Oops, there was a problem. Please try again later or"," ",a.createElement("a",{className:t,href:n.support.login,target:"_blank"},"contact support"))},y=({message:e,description:t,headerClassName:n})=>Boolean(t)?a.createElement("div",null,a.createElement("p",{className:n},e),a.createElement("br",null),a.createElement("span",null,t)):a.createElement("div",null,e),C=()=>{const e=a.useContext(h.a.Context);return a.createElement("div",null,e.noFileToUpload)},k=()=>{const e=a.useContext(h.a.Context);return a.createElement("div",null,e.oneDocumentIsAllowed)},w=({navigateToDocument:e,linkClassName:t})=>a.createElement("div",null,"Document successfully uploaded."," ",a.createElement(u.b,{className:t,onClick:e},"Open document for editing.")),N=({navigateToDocument:e,linkClassName:t})=>a.createElement("div",null,"New document created."," ",a.createElement(u.b,{className:t,onClick:e},"Open document for editing.")),x=()=>{const e=a.useContext(E.a.Context);return a.createElement("div",null,"Unsupported file type. ",e.notificationUploadFileText,": Microsoft Word (.doc, .docx), OpenOffice (.odt), TXT and RTF.")},O=({linkClassName:e})=>{const t=a.useContext(b.a.Context);return a.createElement("div",null,"Your document contains revisions. Accept all revisions and try uploading again. Click"," ",a.createElement("a",{className:e,target:"_blank",href:t.support.documentAcceptTrackedChanges,onClick:g.d.stopPropagation()},"here")," ","for details.")},T=({email:e})=>a.createElement("div",null,"Please check your inbox at ",a.createElement("b",null,e)," to verify your new email address."),D=({forceRetry:e,timeToRetry:t,linkClassName:n,headerClassName:r})=>a.createElement(o.a.div,null,a.createElement("p",{className:r},"Cannot log out"),Object(p.pipe)(t,l.a.map(t=>-1!==t?a.createElement("div",{key:"logoutErrorNotification"},"An error occurred while logging out.",a.createElement("br",null),a.createElement(u.b,{className:n,onClick:e},"Retrying in ",t," seconds.")):a.createElement("div",{key:"logoutErrorNotification"},"It seems that something is preventing a successful logout. Please reload the page and try again.")))),P=({linkClassName:e,headerClassName:t})=>{const n=a.useContext(E.a.Context);return a.createElement("div",null,a.createElement("p",{className:t},"Grammarly needs to refresh this page"),"Don't worry - your documents have already been saved.",a.createElement("br",null),"Please"," ",a.createElement(u.b,{className:e,onClick:()=>{window.location.reload()}},"reload")," ","the page (",n.commandKeyLabel("R"),").")},_=({linkClassName:e,headerClassName:t,reloadMethod:n})=>{const o=a.useContext(h.a.Context).desktopUpdate;return a.createElement("div",null,a.createElement("p",{className:t},o.softTitle),o.soft,a.createElement("br",null),a.createElement(u.b,{className:e,onClick:n},o.reload))},S=({linkClassName:e,headerClassName:t,reloadMethod:n})=>{const o=a.useContext(h.a.Context).desktopUpdate;return a.createElement("div",null,a.createElement("p",{className:t},o.hardTitle),o.hard,a.createElement("br",null),a.createElement(u.b,{className:e,onClick:n},o.reload))},j=({linkClassName:e,headerClassName:t,downloadMethod:n})=>{const o=a.useContext(h.a.Context).desktopUpdate;return a.createElement("div",null,a.createElement("p",{className:t},o.softTitle),o.soft,a.createElement("br",null),a.createElement(u.b,{className:e,onClick:n},o.download))},M=({linkClassName:e,headerClassName:t,downloadMethod:n})=>{const o=a.useContext(h.a.Context).desktopUpdate;return a.createElement("div",null,a.createElement("p",{className:t},o.hardTitle),o.hard,a.createElement("br",null),a.createElement(u.b,{className:e,onClick:n},o.download))},I=({linkClassName:e})=>{const t=a.useContext(b.a.Context);return a.createElement("div",null,"You have been logged out. You are being redirected to the login page. Please click"," ",a.createElement("a",{className:e,href:t.funnel.signin},"here")," ","if your browser does not redirect you.")},B=({resetClock:e,reconnectTime:t,linkClassName:n,headerClassName:r})=>a.createElement("div",null,a.createElement("p",{className:r},"Connection failure"),"Cannot connect to Grammarly because there is no Internet access available. ",a.createElement("br",null),a.createElement(u.b,{className:n,onClick:e},"Trying to reconnect in ",a.createElement(o.a.span,null,t.view(e=>e))," seconds.")),L=()=>a.createElement("div",null,"Your Internet connection is unstable. Grammarly may work slower than normal."),U=({errorMessage:e,linkClassName:t})=>a.createElement("div",{title:e},"The server encountered an error. Please"," ",a.createElement(f,{source:"ServerErrorNotification",linkClassName:t}),"."),G=({linkClassName:e,headerClassName:t})=>{const n=a.useContext(b.a.Context);return a.createElement("div",null,a.createElement("p",{className:t},"Connection failure"),"Your network configuration blocks Grammarly services on this computer.",a.createElement("br",null),"To troubleshoot this issue,"," ",a.createElement("a",{className:e,href:n.support.diagnosticTestPath,target:"_blank"},"click here"))},R=({errorMessage:e,linkClassName:t})=>a.createElement("div",{title:e},"Your Internet connection is unstable. Please check your network configuration and"," ",a.createElement(f,{source:"ClientConnectionErrorNotification",linkClassName:t}),"."),A=()=>a.createElement("div",null,"Error checking is temporarily unavailable. Our engineers are working quickly to resolve the issue. Please check back soon."),H=({headerClassName:e})=>{const t=a.useContext(h.a.Context).fileSizeExceededNotification;return a.createElement("div",null,a.createElement("p",{className:e},t.title),t.body)},F=()=>a.createElement("div",null,"The submitted file is empty."),W=()=>a.createElement("div",{"data-name":"document-not-found"},"Requested document was not found."),z=()=>a.createElement("div",null,"Document wasn't downloaded. Please try again."),V=()=>a.createElement("div",null,"Document wasn't uploaded. Please try again."),Y=({documentId:e,documentTitle:t,failedToRestore:n,linkClassName:o,show:r,notificationsFactory:s,restoreDocument:i})=>{const l=Object(c.t)((e,t)=>i().catch(n=>{m.Monitoring.Logging.getLogger("notifications").error("Document restore fail",n),r(s.documentDeleted(e,t,i,!0))}));return a.createElement("div",null,n?`Oops, there was a problem. "${t}" wasn't restored.`:`"${t}" was deleted.`," ",a.createElement(u.b,{className:o,onClick:()=>l(e,t)},n?"Restore":"Undo"))},q=({linkClassName:e})=>{const t=a.useContext(b.a.Context);return a.createElement("div",null,"An error occurred while installing the extension. Your browser may be blocking installation. Please try again by installing from the"," ",a.createElement("a",{className:e,href:t.extension.chrome.infoURL,target:"_blank"},"Chrome Web Store"))},Z=()=>{const e=a.useContext(E.a.Context);return a.createElement("div",null,"Copying is not supported by your browser, but you can still use"," ",e.commandKeyLabel("C")," for copy")},Q=({email:e})=>a.createElement("div",null,"We’re proofreading your document. When complete, we will email a corrected version to"," ",a.createElement("span",{"data-name":"useremail"},e)),X=({linkClassName:e})=>{const t=a.useContext(b.a.Context);return a.createElement("div",null,"The file cannot be downloaded because this browser does not support safe downloads.",a.createElement("br",null),"Please update your browser and try again.",a.createElement("br",null),a.createElement("a",{className:e,href:t.support.safariDownloadFilesKBUrl,target:"_blank"},"Learn more"))},K=()=>a.createElement("div",{"data-name":"proofread-downloaded"},"Document downloaded.");var $=n("2Xsa");const J=7e3,ee=400;function te(e,t,n,o,r){switch(e.type){case"error":return a.createElement(v,{errorMessage:e.args.errorMessage,linkClassName:r.link});case"documentUploaded":return a.createElement(w,{navigateToDocument:e.args.navigateToDocument,linkClassName:r.link});case"isTemporaryDownloadError":return a.createElement(z,null);case"downloadDocumentNotFoundError":case"documentNotFoundError":return a.createElement(W,null);case"newDocumentCreated":return a.createElement(N,{navigateToDocument:e.args.navigateToDocument,linkClassName:r.link});case"documentDeleted":const{documentId:s,documentTitle:i,failedToRestore:l,restoreDocument:c}=e.args;return a.createElement(Y,Object.assign({},{documentId:s,documentTitle:i,failedToRestore:l,restoreDocument:c},{linkClassName:r.link,hide:t,show:n,notificationsFactory:o}));case"documentTypeUnsupported":return a.createElement(x,null);case"trackedChangesIsUnsupported":return a.createElement(O,{linkClassName:r.link});case"documentUploadGeneralError":return a.createElement(V,null);case"changeEmail":return a.createElement(T,{email:e.args.email});case"generic":const{message:d,description:u}=e.args;return a.createElement(y,Object.assign({},{message:d,description:u},{headerClassName:r.header}));case"noFileToUpload":return a.createElement(C,null);case"oneDocumentIsAllowed":return a.createElement(k,null);case"documentSizeExceeded":return a.createElement(H,{headerClassName:r.header});case"documentIsEmpty":return a.createElement(F,null);case"logoutError":const{forceRetry:p,timeToRetry:h}=e.args;return a.createElement(D,Object.assign({},{forceRetry:p,timeToRetry:h},{linkClassName:r.link,headerClassName:r.header}));case"selfUpdateBlocker":return a.createElement(P,{linkClassName:r.link,headerClassName:r.header});case"desktopSoftUpdate":return a.createElement(_,{linkClassName:r.link,headerClassName:r.header,reloadMethod:e.args.reloadMethod});case"desktopHardUpdate":return a.createElement(S,{linkClassName:r.link,headerClassName:r.header,reloadMethod:e.args.reloadMethod});case"desktopSoftDownload":return a.createElement(j,{linkClassName:r.link,headerClassName:r.header,downloadMethod:e.args.downloadMethod});case"desktopHardDownload":return a.createElement(M,{linkClassName:r.link,headerClassName:r.header,downloadMethod:e.args.downloadMethod});case"unauthorizedError":return a.createElement(I,{linkClassName:r.link});case"offline":const{resetClock:g,reconnectTime:b}=e.args;return a.createElement(B,Object.assign({},{resetClock:g,reconnectTime:b},{linkClassName:r.link,headerClassName:r.header}));case"serverError":return a.createElement(U,{linkClassName:r.link});case"connectionWSError":return a.createElement(G,{linkClassName:r.link,headerClassName:r.header});case"clientConnectionError":return a.createElement(R,{linkClassName:r.link});case"slowNetwork":return a.createElement(L,null);case"checkingIsDown":return a.createElement(A,null);case"extensionInstallFailed":return a.createElement(q,{linkClassName:r.link});case"copyToClipboardFailed":return a.createElement(Z,null);case"proofitInProgress":return a.createElement(Q,{email:e.args.email});case"blobDownloadUnsupported":return a.createElement(X,{linkClassName:r.link});case"downloadProofread":return a.createElement(K,null);default:return m.Monitoring.Logging.getLogger("notifications").error(`Notification component for '${e.type}' not found.`),a.createElement(v,{linkClassName:r.link})}}const ne=({notification:e,hide:t,visibilityState:n,notifications:s,renderNotification:i,show:c,className:m})=>{var d;return a.createElement(o.a.div,Object.assign({key:e.id},Object(r.c)($.notification,n.pipe(l.a.map(e=>e?$.show:$.hide)),m)),a.createElement("span",{className:$.content,key:e.id},i(e,()=>s.hide(e.id),c,s.create,$)),!(null!==(d=e.dontCloseOnClick)&&void 0!==d&&d)&&a.createElement(u.b,{onClick:()=>t(e.id,!0),className:$.close,"data-name":"notification-close"}))},ae=({notifications:e,renderNotification:t=te})=>{const n=a.useContext(d.a.Context),r=s.a.create(!1),m=s.a.create(void 0),u=e.items.view(i.a.find(e=>{var t;return!(null!==(t=e.expired)&&void 0!==t&&t)}));function p(e){var t;m.set(e);const n=m.get();n&&n.id===e.id&&Object(c.u)(()=>r.set(!0)),e.showTimeMs===1/0||null!==(t=e.important)&&void 0!==t&&t||setTimeout(()=>{h(e.id,!0)},Boolean(e.showTimeMs)?e.showTimeMs:J)}function h(t,n=!1){const a=m.get();Object(c.u)(()=>{a&&a.id===t&&r.set(!1),setTimeout(()=>{const a=m.get();if(n&&e.expire(t),a&&a.id===t){const e=u.get();e&&p(e)}},ee)})}return u.subscribe(e=>{const t=m.get();t&&h(t.id),void 0===t&&void 0!==e&&p(e)}),Boolean(null==n?void 0:n.location)&&n.location.subscribe(t=>e.cleanup()),a.createElement(o.a.div,null,m.pipe(l.a.map(n=>void 0===n?null:a.createElement(ne,Object.assign({},{notification:n,notifications:e,show:p,hide:h,visibilityState:r,renderNotification:t})))))}},"/vNq":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return Ce}));var a=n("ERkP"),o=n("I7vG"),r=n("LNSM"),s=n("vOOZ"),i=n("x7eB"),l=n("6gXa"),c=n("zR/0"),m=n("lrqh"),d=n("QMvg"),u=n("mEc7"),p=n("nQSW"),h=n("ot6E"),g=n("Pe9T"),b=n("+ukg"),E=n("p7hf"),f=n("4rgr"),v=n("CvSs"),y=n("6fbX"),C=n("sWIT"),k=n("BugA"),w=n("hoSD"),N=n("6h1P");const x=()=>a.createElement("hr",{className:N.divider});var O=n("td1Z"),T=n("ClcC");const D=({searchText:e=""})=>a.createElement("div",{"data-name":"empty-search-msg",className:T.searchEmpty},"Sorry, none of your documents contain “",e,"”");var P=n("vhd2");const _=Object(u.e)(({documentItems:e=[],proofitResults:t,onCreateDocumentClick:n,onDeleteDocumentClick:o,searchText:r,documentUpload:i,modal:l,downloadOriginal:m,downloadProofread:d,features:u},p)=>{const h=e.filter(e=>e.title||e.firstContent),g=(e,n)=>e.map((e,r)=>a.createElement(O.a,{key:`${e.id}${0===r&&n}`,document:e,proofit:t[e.id],labelClass:0===r&&n,onDeleteDocumentClick:o,modal:l,downloadOriginal:m,downloadProofread:d,features:u})),b=Date.now(),E=({updatedAt:e=null})=>{const t=Math.floor((b-Date.parse(Boolean(e)?e:0))/w.d.MS_IN_DAY);return t<0?0:t},f=h.filter(e=>0===E(e)),y=h.filter(e=>1===E(e)),C=h.filter(e=>E(e)>1);return h.length>0||!Boolean(r)?a.createElement("div",{className:u.showGetStarted?P.sectionContainer:void 0},u.showGetStarted&&a.createElement("div",{className:P.sectionHeader},a.createElement(k.H3,null,"All documents"),a.createElement(x,null)),a.createElement("div",{className:P.documents},a.createElement(O.b,{key:"new_document",documentUpload:i,onCreateDocumentClick:n}),a.createElement(s.a.div,null,i.state.pipe(c.a.map(v.a.isInProgress),c.a.combineLatest(i.uploadingCount.pipe(c.a.map(w.a.generateSequence))),c.a.map(([e,t])=>e?t.map(e=>a.createElement(O.c,{key:e})):null))),g(f,P.today),g(y,P.yesterday),g(C,0===f.length&&0===y.length?void 0:P.earlier))):a.createElement(D,{key:"no_documents",searchText:r})});var S=n("1gzW"),j=n("rmLU"),M=n("XaD9"),I=n("zgnf"),B=n("AI7b");const L={text:"Take a quick tour",dataName:"tour",itemType:"tour"},U={text:"Try it in Google Docs",dataName:"gdocs",itemType:"gDocs"},G={text:"Try it in Gmail",dataName:"gmail",itemType:"gmail"},R={text:"Download Grammarly",dataName:"desktop",itemType:"grammarlyForDesktop"},A=[U,L,R],H=[R,L,G],F=[L,R,U],W=[L,{text:"Read User Trust Guidelines",dataName:"user-trust",itemType:"userTrust"}],z=[G,{text:"Try it in Outlook",dataName:"outlook",itemType:"outlook"},U],V=[R];var Y=n("9NHN"),q=n("nnns"),Z=n("tZsn");const Q=({text:e,dataName:t,itemType:n,openInNewTab:o,href:r,onClick:s})=>{const i=a.useContext(M.a.Context);return a.createElement("div",{className:Z.itemContainer},a.createElement("div",Object.assign({},Object(Y.c)(Z.icon,Z[n]))),a.createElement(q.a,{ariaLabel:e,name:`get-started-${t}`,className:Z.button,styleType:k.Typography.Type.Small,href:r,target:Boolean(o)?"_blank":void 0,onClick:()=>(e=>{i.gnarSpec.getStartedLinkClick(i.pageId,e),null==s||s(e)})(n)},e))};var X=n("c6oH");const K=({title:e,children:t})=>a.createElement(a.Fragment,null,a.createElement(k.H4,{className:X.sectionTitle},e),t);var $=n("kNyA");function J(e){return"windows"===e.info.os?B.a.App.desktopWindows:"mac"===e.info.os?B.a.App.desktopMac:void 0}function ee(e,t,n,o){return e.map(e=>a.createElement(Q,Object.assign({key:e.itemType},function(e,t,n,a){const o=J(n);switch(e.itemType){case"tour":return Object.assign(Object.assign({},e),{openInNewTab:!0,href:t.funnel.tour});case"userTrust":return Object.assign(Object.assign({},e),{openInNewTab:!0,href:t.funnel.userTrustGuidelines});case"gmail":return Object.assign(Object.assign({},e),{openInNewTab:!0,href:`${t.external.gmail}#compose`});case"gDocs":return Object.assign(Object.assign({},e),{openInNewTab:!0,href:a.gDocsTour?t.funnel.gDocsTour:t.external.gDocs});case"outlook":return Object.assign(Object.assign({},e),{openInNewTab:!0,href:t.external.outlook});case"grammarlyForDesktop":return void 0!==o?Object.assign(Object.assign({},e),{text:(r=o,r===B.a.App.desktopWindows?"Download Grammarly for Windows":"Download Grammarly for Mac"),href:o===B.a.App.desktopWindows?t.llama.windows:t.llama.mac,onClick:()=>{window.setTimeout(()=>{window.open(t.funnel.llamaServiceDownload,"_blank")},1e3)}}):e;default:return e}var r}(e,t,n,o))))}const te=({config:e,env:t,features:n})=>a.createElement(a.Fragment,null,a.createElement(K,{title:"Learn how it works"},ee(W,e,t,n)),a.createElement(x,null),a.createElement(K,{title:"Use Grammarly across websites"},ee(z,e,t,n)),Boolean(J(t))&&a.createElement(a.Fragment,null,a.createElement(x,null),a.createElement(K,{title:"Get Grammarly for your apps, too"},ee(V,e,t,n)))),ne=({userRole:e,config:t,env:n,features:o})=>{switch(e){case"student":return a.createElement(a.Fragment,null,ee(A,t,n,o));case"professional":return a.createElement(a.Fragment,null,ee(H,t,n,o));default:return a.createElement(a.Fragment,null,ee(F,t,n,o))}},ae=({features:e,role:t})=>{const n=a.useContext(j.a.Context),r=a.useContext(p.b.Context),s=a.useContext(M.a.Context),i=e.getStartedPriority,l=function(e){switch(e){case"work":return"professional";case"school":case"student":return"student";default:return"unknown"}}(Object(o.pipe)(t,m.g.getOrElse(()=>I.f.otherProjects)));return S.a.useEffectOnDidMount(()=>{s.gnarSpec.getStartedSectionShow(s.pageId,l)}),a.createElement("div",{className:$.sectionContainer},a.createElement("div",null,a.createElement(k.H3,null,"Get started"),a.createElement(x,null)),a.createElement("div",null,i?a.createElement(ne,{userRole:l,config:n,env:r,features:e}):a.createElement(te,{config:n,env:r,features:e})))};var oe=n("J7iw"),re=n("o6Ok");class se extends u.b{componentDidMount(){const{documents:{list:e,proofit:t},proofitFeatureEnabled:n,editorTsNotifications:a,userProfile:o}=this.props;e.load(),n&&t.init(),!0===window.PROOFIT_SUBMITTED&&(a.show(a.create.proofitInProgress(o.email)),window.PROOFIT_SUBMITTED=void 0)}componentWillReceiveProps(e){const{documents:{proofit:t},proofitFeatureEnabled:n}=this.props;e.proofitFeatureEnabled!==n&&(e.proofitFeatureEnabled?t.init():t.reset())}componentWillUnmount(){const{documents:{list:e,proofit:t},proofitFeatureEnabled:n}=this.props;e.reset(),n&&t.reset()}render(){const{documents:{actions:e,list:t,proofit:n},documentUpload:o,onCreateDocumentClick:i,onDeleteDocumentClick:l,modal:c,userProfile:m,features:d}=this.props;return a.createElement(s.a.div,null,r.a.combine(t.searchText,t.searchResults,n.results,(n,r,s)=>{switch(r.status){case v.a.Status.ok:const u=a.createElement(_,{key:"docsList",documentItems:r.value,proofitResults:s,onCreateDocumentClick:i,onDeleteDocumentClick:l,searchText:n,documentUpload:o,modal:c,downloadOriginal:t=>e.downloadOriginal(t),downloadProofread:t=>e.downloadProofread(t),features:d});return[a.createElement(oe.a,{key:"searchInput",searchText:t.searchText,isSearching:t.isSearching,isEnabled:t.isFirstTimeLoaded.view(e=>!e)}),d.showGetStarted?a.createElement("div",{key:"docListContainer",className:re.contentContainer},a.createElement(ae,{features:d,role:m.role}),u):u];case v.a.Status.error:case v.a.Status.idle:case v.a.Status.inProgress:return a.createElement(C.a,{key:"documentSpinner",className:re.spinner});case v.a.Status.fatal:return null;default:return Object(y.d)(r)}}))}}var ie,le,ce,me=n("OA+g"),de=n("NaPV"),ue=n("P0Tl"),pe=n("U9VQ"),he=n("D9EC"),ge=n("PrA7");(ie||(ie={})).Mock=class{constructor(){this.selected=r.a.create(m.g.none).view(),this.notLater=!1,this.changeSelection=he.e,this.shown=he.e,this.dismiss=he.e,this.remind=he.e,this.submit=()=>Promise.resolve()}};class be{constructor(e,t,n,a,o){this._onAction=e,this._onClose=t,this._account=n,this._telemetry=a,this._notLater=o,this._selectedRole=r.a.create(m.g.none),this._log=ge.Monitoring.Logging.getLogger("downloadViewModel")}get selected(){return this._selectedRole.view()}get notLater(){return this._notLater}changeSelection(e){this._selectedRole.set(m.g.some(e))}shown(){this._telemetry.gnarSpec.userRolePopupShow(this._telemetry.pageId),this._onAction({type:pe.a.Shown})}dismiss(){this._telemetry.gnarSpec.userRolePopupClick("dismiss",this._telemetry.pageId),this._onAction({type:pe.a.Dismiss}),this._onClose()}remind(){this._telemetry.gnarSpec.userRolePopupClick("later",this._telemetry.pageId),this._onAction({type:pe.a.Later,expire:7*w.d.MS_IN_DAY}),this._onClose()}submit(){return this.selected.pipe(c.a.switchMap(m.g.fold(()=>c.a.EMPTY,e=>c.a.of(e))),c.a.tap(e=>{this._telemetry.gnarSpec.userRolePopupClick("done",this._telemetry.pageId,e),this._account.updateUserRole(e).catch(e=>{this._log.error("Cannot update user role",e)}),this._onAction({type:pe.a.Dismiss}),this._onClose()})).toPromise()}}(le||(le={})).userRole={type:pe.c.UserRole};class Ee{constructor(e,t,n){this._modals=e,this._account=t,this._telemetry=n}load(e){switch(e.type){case pe.c.UserRole:return this._loadUserRole(e.notLater);default:return Object(y.d)(e.type)}}_loadUserRole(e){return Promise.all([n.e(0),n.e(29)]).then(n.bind(null,"+sV7")).then(({UserRolePopup:t})=>n=>{const o=new be(e=>this._modals.dispatch(pe.c.UserRole,e),()=>n.onClose(),this._account,this._telemetry,this._modals.notLater(pe.c.UserRole));return{instance:{type:pe.c.UserRole,notLater:e},component:a.createElement(t,{model:o})}})}}(ce||(ce={})).Mock={init:()=>c.a.of(m.g.none)};class fe{constructor(e,t,n,a){this._userAccount=e,this._modals=t,this._modalManager=n,this._banners=a}init(){return this._initBanners(),this._initPopups(),this._loadPopup().pipe(c.a.switchMap(m.g.fold(()=>c.a.EMPTY,e=>this._modalManager.showPreloaded(e))))}_initBanners(){this._banners.initialize(this._userAccount.settings.banners.get(),this._userAccount.settings)}_initPopups(){this._modals.initialize(this._userAccount.settings.modals.get(),this._userAccount.settings)}_loadPopup(){return this._shouldShowUserRolePopup()?this._modalManager.preload(le.userRole).pipe(c.a.map(m.g.some)):c.a.of(m.g.none)}_shouldShowUserRolePopup(){return Object(o.pipe)(this._userAccount.features.userRolePopup,m.g.map(e=>e===b.m.UserRolePopupMode.force||!ue.c.is(this._banners.state.get().active)&&this._modals.notHidden(pe.c.UserRole)),m.g.getOrElse(me.constFalse))}}var ve=({userAccount:e,modals:t,banners:n})=>{const o=a.useContext(M.a.Context),r=new de.b(new Ee(t,e,o)),i=new fe(e,t,r,n);return S.a.useSubscriptionTo(i.init()),a.createElement(s.a.Fragment,null,r.state.view(Object(me.flow)(m.g.map(({component:e})=>e),m.g.toNullable)))},ye=n("aMMA");class Ce extends a.Component{constructor(){super(...arguments),this._handleNewDocumentClick=()=>{const e=this.context,{documentsPage:t,telemetryLegacy:n}=this.props.model;n.newDocument();const a=r.a.create(!0),o=e.location.pipe(c.a.skip(1),c.a.first()).subscribe(()=>a.set(!1));return t.actions.createDocumentAndNavigate(a).catch().then(e=>o.unsubscribe())},this._handleDeleteDocumentClick=(e,t,n)=>{const{actions:a}=this.props.model.documentsPage,o=n.show(n.create.documentDeleted(e,t,()=>a.restoreDocument(e)));return a.deleteDocument(e).catch(e=>{o&&n.hide(o),a.handleDeleteDocumentError(e)})},this._handleProofreadDocumentDownload=()=>{const e=this.context;Object(o.pipe)(e.query.get("downloadProofread"),m.g.map(e=>this.props.model.documentsPage.actions.downloadProofread(e,this.props.model.editorTsNotifications.create.downloadProofread(),!0)),m.g.fold(()=>Object(o.pipe)(e.query.get("downloadOriginal"),m.g.map(e=>this.props.model.documentsPage.actions.downloadOriginal({id:e,rtfMode:g.d.DocumentFeatures.FormattingMode.compatibility}))),m.g.some),m.g.map(()=>{e.replace(u.a.routes.documents.href(),Object(o.pipe)(e.locationState,m.g.toUndefined))}))}}_generateLinks(e){return{"desktop-mac":{url:e.desktop.mac.installURL},"desktop-windows":{url:e.desktop.windows.installURL},"chrome-extension":{url:e.extension.chrome.installURL,target:"_blank"},"safari-extension":{url:e.extension.safari.installURL,target:"_blank"},"edge-extension":{url:e.extension.edge.installURL},"edge-chromium-extension":{url:e.extension.edgeChromium.installURL,target:"_blank"},"chrome-popup":{url:e.extension.chrome.installURL,target:"_blank"},"safari-popup":{url:e.extension.safari.installURL,target:"_blank"},"edge-popup":{url:e.extension.edge.installURL},"edge-chromium-popup":{url:e.extension.edgeChromium.installURL,target:"_blank"},"invite-members":{url:e.account.members,target:"_blank"},"style-guide":{url:e.account.styleGuide,target:"_blank"}}}componentDidMount(){this._handleProofreadDocumentDownload()}render(){const{documentsPage:e,documentUpload:t,editorTsNotifications:n,banners:o,modals:l,modal:v,wsConnectivity:y,userAccount:C}=this.props.model,{config:k}=this.props,w=C.features.proofit,N=this._generateLinks(k),x=new g.h.CancelledBanner(e.proofit.cancelled,t=>e.actions.navigateToDocument(t)),O=b.g.isFree(C.features.denaliUserType);return a.createElement(h.a.Context.Provider,{value:this.props.textResources},a.createElement(u.c,{title:"Grammarly"},a.createElement(i.a.Manager,{remSize:i.a.withRemSizeEffect(r.a.create(16))},a.createElement(d.a,{model:this.props.model},a.createElement(ve,{banners:o,modals:l,userAccount:C}),a.createElement(p.c,{onMount:()=>{this.props.model.telemetryLegacy.documentListOpened()},className:ye.documents},a.createElement(E.a,{documentUpload:t,multiple:!0}),m.g.isSome(C.features.banners)&&a.createElement(s.a.div,null,!b.g.isBusiness(C.features.denaliUserType)&&x.state.pipe(c.a.startWith(!1),c.a.map(e=>e&&a.createElement(f.a,{key:"cancelledBanner",links:{},banner:"proofit-cancelled",actions:x,showFreeUserNote:O}))),o.state.view(e=>Boolean(null==e?void 0:e.active)?a.createElement(f.a,{key:"activeBanner",links:N,banner:e.active,actions:o.actions,showFreeUserNote:O}):null)),w.view(o=>a.createElement(se,{key:"documentSearch",documents:e,documentUpload:t,editorTsNotifications:n,onCreateDocumentClick:this._handleNewDocumentClick,onDeleteDocumentClick:(e,t)=>this._handleDeleteDocumentClick(e,t,n),proofitFeatureEnabled:o===b.o.enabled,modal:v,wsConnectivity:y,userProfile:this.props.model.userAccount.profile.get(),apps:this.props.model.apps,features:C.features.denali})))))))}}Ce.contextType=u.a.Context,l.a.setStylesTarget(document.getElementById("typestyleTarget"))},"4rgr":function(e,t,n){"use strict";n.d(t,"a",(function(){return j}));var a=n("ERkP"),o=n("9NHN"),r=n("PrA7"),s=n("mEc7"),i=n("XaD9"),l=n("P0Tl"),c=n("zoQI"),m=n("AI7b"),d=n("FbKK");const u=[["campaign-end",{name:"campaignEnd",title:"Sorry, but this offer is no longer valid :(",description:"However, you can select one of the plans below and improve your writing in no time.",btnLabel:!1}],["proofit-cancelled",{name:"proofitCancel",title:"Your order has been cancelled",description:"Your proofreading order has been cancelled and the payment refunded. Please check your email for more information, or contact Grammarly support.",btnLabel:"Open Document",hideLater:!0}],["proofit-completed",{name:"proofitComplete",title:"Your document has been proofread",customDescription:({email:e})=>a.createElement("div",null,"A version of this document with proofreaders’ marks has been emailed to you at"," ",a.createElement("span",{className:d.proofitEmail},e)," in Microsoft Word (.docx) format."),btnLabel:"Download .docx",href:!0,hideLater:!0,hideDismiss:!0}],["safari-extension",{name:m.a.App.extensionSafari,hideLater:!0,hideDismiss:!0,title:"Enable Grammarly wherever you type",description:"Use it on Gmail, Facebook, Twitter, LinkedIn, and thousands of other websites.",btnLabel:"Add to Safari"}],["firefox-extension",{name:m.a.App.extensionFirefox,hideLater:!0,hideDismiss:!0,title:"Enable Grammarly wherever you type",description:"Use it on Gmail, Facebook, Twitter, LinkedIn, and thousands of other websites.",btnLabel:"Add to Firefox"}],["chrome-extension",{name:m.a.App.extensionChrome,hideLater:!0,hideDismiss:!0,title:"Enable Grammarly wherever you type",description:"Use it on Gmail, Facebook, Twitter, LinkedIn, and thousands of other websites.",btnLabel:"Add to Chrome"}],["edge-extension",{name:m.a.App.extensionEdge,hideLater:!0,hideDismiss:!0,title:"Enable Grammarly wherever you type",description:"Use it on Gmail, Facebook, Twitter, LinkedIn, and thousands of other websites.",btnLabel:"Add to Edge"}],["edge-chromium-extension",{name:m.a.App.extensionEdgeChromium,hideLater:!0,hideDismiss:!0,title:"Enable Grammarly wherever you type",description:"Use it on Gmail, Facebook, Twitter, LinkedIn, and thousands of other websites.",btnLabel:"Add to Edge"}],["chrome-popup",{name:m.a.App.extensionChrome,hideLater:!0,hideDismiss:!0,title:"Get the Most from Grammarly",description:" Install Grammarly’s browser extension to check your writing on Gmail, Facebook, Twitter, LinkedIn, and all your other favorite sites.",btnLabel:"Add to Chrome"}],["safari-popup",{name:m.a.App.extensionSafari,hideLater:!0,hideDismiss:!0,title:"Get the Most from Grammarly",description:" Install Grammarly’s browser extension to check your writing on Gmail, Facebook, Twitter, LinkedIn, and all your other favorite sites.",btnLabel:"Add to Safari"}],["firefox-popup",{name:m.a.App.extensionFirefox,hideLater:!0,hideDismiss:!0,title:"Get the Most from Grammarly",description:" Install Grammarly’s browser extension to check your writing on Gmail, Facebook, Twitter, LinkedIn, and all your other favorite sites.",btnLabel:"Add to Firefox"}],["edge-popup",{name:m.a.App.extensionEdge,hideLater:!0,hideDismiss:!0,title:"Get the Most from Grammarly",description:" Install Grammarly’s browser extension to check your writing on Gmail, Facebook, Twitter, LinkedIn, and all your other favorite sites.",btnLabel:"Add to Edge"}],["edge-chromium-popup",{name:m.a.App.extensionEdgeChromium,hideLater:!0,hideDismiss:!0,title:"Get the Most from Grammarly",description:" Install Grammarly’s browser extension to check your writing on Gmail, Facebook, Twitter, LinkedIn, and all your other favorite sites.",btnLabel:"Add to Edge"}],["invite-members",{name:"inviteMembers",href:!0,hideLater:!1,hideDismiss:!1,title:"Start inviting team members",description:" Set your team up with real-time writing improvements from Grammarly Business.",btnLabel:"Invite now",dismissOnInstall:!1}],["style-guide",{name:"styleGuide",href:!0,hideLater:!1,hideDismiss:!1,title:"Create a company style guide",description:" Let Grammarly Business deliver customized writing feedback to help your team stay on-brand and in your company's voice.",btnLabel:"Create a style guide",dismissOnInstall:!1}],["mobile-keyboard",{name:m.a.App.mobileKeyboard,href:!0,hideLater:!1,hideDismiss:!1,title:"Want Grammarly on your phone?",description:" The Grammarly Keyboard works with your phone′s browser and all your favorite apps.",btnLabel:"Get the Grammarly Keyboard",dismissOnInstall:!0}],["see-the-magic-week",{name:"seeTheMagicWeek",href:!1,hideLater:!1,hideDismiss:!1,title:"Need help with an existing document?",description:"Upload it now to get suggestions from Grammarly.",btnLabel:"Choose document",dismissOnInstall:!1}],["see-the-magic-month",{name:"seeTheMagicMonth",href:!1,hideLater:!1,hideDismiss:!1,title:"Wherever you started, Grammarly can help",description:"Upload your document to get writing suggestions from Grammarly.",btnLabel:"Choose document",dismissOnInstall:!1}]],p=new Map(u);var h,g=n("2Jhg"),b=n("LNSM"),E=n("vOOZ"),f=n("nnns"),v=n("tZ26"),y=n("D57K"),C=n("mSKB");!function(e){e[e.small=0]="small",e[e.big=1]="big"}(h||(h={}));const k=e=>{var{noteText:t,link:n,size:r=h.small}=e,s=Object(y.__rest)(e,["noteText","link","size"]);const i=Boolean(t)?a.createElement(a.Fragment,null,a.createElement("span",{"data-name":"install-button-content"},s.children),a.createElement("span",{className:C.bannerInstallNote},t)):s.children;return n?a.createElement(c.e,Object.assign({href:n.url,target:n.target},Object(o.c)(s.className,C.bannerInstallButton,r?C.bigInstallButton:C.smallInstallButton),s),i):a.createElement(c.a,Object.assign({},Object(o.c)(s.className,C.bannerInstallButton,r?C.bigInstallButton:C.smallInstallButton),s),i)};var w=n("jMuY");class N extends a.Component{constructor(){super(...arguments),this._animation=b.a.create(g.f.empty()),this._onClose=()=>{const{banner:e}=this.props;this.props.actions.cancel(e),this.context.gnarSpec.bannerCloseButtonClick(Object(l.e)(e),this.context.pageId)},this._install=()=>{const{banner:e,item:t}=this.props;this.props.actions.install(e),this.context.gnarSpec.bannerMainActionButtonClick(Object(l.e)(e),t.btnLabel.toString(),this.context.pageId)}}componentDidMount(){Promise.all([n.e(2),n.e(27)]).then(n.bind(null,"1F8+")).then(({BannerAnimation:e})=>e).then(e=>this._animation.set(Object(g.h)(a.createElement(e,{className:w.lottieAnimation})))),this.props.actions.shown(this.props.banner),this.context.gnarSpec.bannerNotificationShow(Object(l.e)(this.props.banner),this.context.pageId)}render(){const{item:e,banner:t,showFreeUserNote:n}=this.props,o=this.props.links[t];return a.createElement(E.a.div,{className:w.bannerContainer},a.createElement(E.a.div,{className:w.banner},a.createElement(E.a.div,{className:w.bannerContent},a.createElement("div",{className:w.descriptionContainer},a.createElement("div",{className:w.descriptionHeader},e.title),a.createElement("div",{className:w.descriptionText},e.description)),a.createElement(E.a.div,{className:w.animationContainer},this._animation.view(e=>e.orNull())),a.createElement("div",{className:w.addButtonContainer},a.createElement(k,{role:"button",name:"install",noteText:n?"It's free":"",link:o,onClick:this._install},e.btnLabel)))),a.createElement("div",{className:w.closeIconButtonContainer},a.createElement(f.a,{name:"close",onClick:this._onClose},a.createElement(v.d.Close,{className:w.closeIcon,width:13}))))}}N.contextType=i.a.Context;var x=n("D6Vf"),O=n("O7CH");class T extends a.Component{constructor(){super(...arguments),this._animation=b.a.create(g.f.empty()),this._onClose=()=>{const{banner:e}=this.props;l.c.popups.forEach(e=>{this.props.actions.dismiss(e)}),this.props.visible&&this.props.visible.set(!1),this.context.gnarSpec.extPromotionPopupCloseButtonClick(this.context.pageId,Object(l.g)(e))},this._install=()=>{const{banner:e,item:t}=this.props;this.props.actions.install(this.props.banner),this.context.gnarSpec.extPromotionPopupMainActionButtonClick(this.context.pageId,t.btnLabel.toString(),Object(l.g)(e))}}componentDidMount(){Promise.all([n.e(2),n.e(28)]).then(n.bind(null,"SqEo")).then(({PopupAnimation:e})=>e).then(e=>this._animation.set(Object(g.h)(a.createElement(e,{className:O.lottieAnimation})))),this.context.gnarSpec.extPromotionPopupNotificationShow(this.context.pageId,Object(l.g)(this.props.banner))}render(){const{item:e,banner:t,showFreeUserNote:n}=this.props,o=this.props.links[t];return a.createElement(x.b,{positionType:"fixed",preventClose:!0,visible:this.props.visible,animate:!0},a.createElement(x.a,{className:O.popupModal},a.createElement(x.a.Body,{name:"extensionBody",className:O.popupBody},a.createElement(E.a.div,{className:O.animationContainer},a.createElement(E.a.div,{className:O.lottieContent},this._animation.view(e=>e.orNull()))),a.createElement("div",{className:O.descriptionContainer},a.createElement("div",{className:O.descriptionContent},a.createElement("div",{className:O.descriptionHeader},e.title),a.createElement("div",{className:O.descriptionText},e.description),a.createElement("div",{className:O.descriptionButton},a.createElement(k,{role:"button",name:"install",link:o,onClick:this._install,noteText:n?"It's free":"",size:h.big},e.btnLabel)))),a.createElement("div",{className:O.closeIconButtonContainer},a.createElement(f.a,{name:"tour-close",onClick:this._onClose},a.createElement(v.d.Close,{className:O.closeIcon,width:13}))))))}}T.contextType=i.a.Context;var D=n("kbau"),P=n("Q9mx");const _=({banner:e,actions:t,item:n})=>{const{gnarSpec:o,pageId:r}=a.useContext(i.a.Context);a.useEffect(()=>{t.shown(e),o.bannerNotificationShow(Object(l.e)(e),r)});const s=t.upload&&t.upload();return a.createElement("div",{className:P.bannerContainer},a.createElement("div",{className:P.banner},a.createElement("div",{className:P.iconWrapper},a.createElement("div",{className:P.icon})),a.createElement("div",{className:P.descriptionTitle},n.title),a.createElement("div",{className:P.descriptionSubtitle},n.description),a.createElement(f.a,{name:"upload",className:P.buttonContainer,onClick:()=>{o.bannerMainActionButtonClick(Object(l.e)(e),n.btnLabel,r)}},a.createElement(v.d.DocumentSettings.UploadFile,{width:16,className:P.buttonIcon}),a.createElement("span",{className:P.buttonCopy},n.btnLabel),s&&a.createElement(D.a,{documentUpload:s,multiple:!0})),a.createElement("div",{className:P.closeIconButtonContainer},a.createElement(f.a,{name:"close",onClick:()=>{t.cancel(e),o.bannerCloseButtonClick(Object(l.e)(e),r)}},a.createElement(v.d.Close,{className:P.closeIcon,width:13})))))};var S=n("kA2X");class j extends s.b{constructor(){super(...arguments),this._log=r.Monitoring.Logging.getLogger("Banner")}render(){const{banner:e,links:t,actions:n,showFreeUserNote:o}=this.props,r=p.get(e);return r?l.b.is(e)?a.createElement(N,{links:t,banner:e,actions:n,item:r,showFreeUserNote:o}):l.c.is(e)?a.createElement(T,{links:t,banner:e,actions:n,item:r,showFreeUserNote:o}):l.d.is(e)?a.createElement(_,{banner:e,actions:n,item:r}):a.createElement(M,{key:"activeBanner",links:t,banner:e,item:r,actions:n}):(this._log.error(`Cannot get banner by type: ${e}`),null)}}class M extends a.Component{componentDidMount(){this.context.gnarSpec.bannerNotificationShow(Object(l.e)(this.props.banner),this.context.pageId),this.props.actions.shown(this.props.banner)}render(){var e,t;if(!Boolean(this.props.item))return null;const n=this.props.item,{banner:r,props:s}=this.props,i=Boolean(this.props.links[r])?this.props.links[r]:{url:void 0,target:void 0},m=()=>{this.props.actions.install(r),!0===n.dismissOnInstall&&this.props.actions.dismiss(r),this.context.gnarSpec.bannerMainActionButtonClick(Object(l.e)(r),n.btnLabel.toString(),this.context.pageId)};return a.createElement("div",{className:S.container},a.createElement("div",Object.assign({"data-name":n.name},Object(o.c)(S.banner,S[n.name])),a.createElement("div",{className:S.iconWrapper},a.createElement("div",Object.assign({},Object(o.c)(S.icon,S[n.name+"Icon"])))),a.createElement("div",{"data-name":"app-title",className:S.title},n.title),a.createElement("div",{"data-name":"text",className:S.description},function(e,t={},n,o){if(!n||!Boolean(t))return a.createElement("div",{className:S.description},o);switch(e){case"proofit-completed":return a.createElement(n,Object.assign({},t));default:return a.createElement("div",{className:S.description},o)}}(r,s,n.customDescription,n.description)),a.createElement("div",{className:S.buttons},Boolean(n.btnLabel)&&(!0===n.href&&Boolean(i.url)?a.createElement(c.e,{key:"link-button",name:"install-btn",className:S.install,href:i.url,target:i.target,onClick:m},n.btnLabel):a.createElement(c.a,{role:"button",name:"install-btn",className:S.install,key:"button",onClick:m},n.btnLabel)),!0===n.learnMore&&Boolean(i.url)&&a.createElement(c.c,{name:"learnMore",className:S.button,href:i.url,target:i.target,onClick:()=>{this.context.gnarSpec.bannerLearnMoreButtonClick(Object(l.e)(r),this.context.pageId)}},"Learn more"),!(null!==(e=n.hideLater)&&void 0!==e&&e)&&a.createElement(c.b,{name:"later",className:S.button,onClick:()=>{this.props.actions.remind(r),this.context.gnarSpec.bannerRemindLaterButtonClick(Object(l.e)(r),this.context.pageId)}},"Remind me later"),!(null!==(t=n.hideDismiss)&&void 0!==t&&t)&&a.createElement(c.b,{name:"dismiss",className:S.button,onClick:()=>{this.props.actions.dismiss(r),this.context.gnarSpec.bannerDismissButtonClick(Object(l.e)(r),this.context.pageId)}},"Dismiss")),a.createElement(c.b,{name:"cancel",className:S.close,onClick:()=>{this.props.actions.cancel(r),this.context.gnarSpec.bannerCloseButtonClick(Object(l.e)(r),this.context.pageId)}})))}}M.contextType=i.a.Context},BVlN:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a,o=n("6fbX");!function(e){var t="window['_fs_debug'] = true;\n  window['_fs_host'] = 'fullstory.com';\n  window['_fs_org'] = '76Y20';\n  window['_fs_namespace'] = 'FS';\n  (function(m,n,e,t,l,o,g,y){\n    if (e in m) {if(m.console && m.console.log) { m.console.log('FullStory namespace conflict. Please set window[\"_fs_namespace\"].');} return;}\n    g=m[e]=function(a,b){g.q?g.q.push([a,b]):g._api(a,b);};g.q=[];\n    o=n.createElement(t);o.async=1;o.src='https://'+_fs_host+'/s/fs.js';\n    y=n.getElementsByTagName(t)[0];y.parentNode.insertBefore(o,y);\n    g.identify=function(i,v){g(l,{uid:i});if(v)g(l,v)};g.setUserVars=function(v){g(l,v)};\n    g.identifyAccount=function(i,v){o='account';v=v||{};v.acctId=i;g(o,v)};\n    g.clearUserCookie=function(c,d,i){if(!c || document.cookie.match('fs_uid=[\";\"]*\"[\";\"]*\"[\";\"]*\"')){\n      d=n.domain;while(1){n.cookie='fs_uid=;domain='+d+\n      ';path=/;expires='+new Date(0).toUTCString();i=d.indexOf('.');if(i<0)break;d=d.slice(i+1)}}};\n    })(window,document,window['_fs_namespace'],'script','user');";function n(){return void 0!==window.FS}e.enable=function(){Object(o.g)(!n(),"FullStory snippet already loaded");var e=document.createElement("script");e.innerHTML=t,document.head.appendChild(e)},e.isEnabled=n,e.ignoreClass="fs-hide"}(a||(a={}))},DQoU:function(e,t,n){"use strict";n.d(t,"a",(function(){return V}));var a=n("D57K"),o=n("ERkP"),r=n("9NHN"),s=n("vOOZ"),i=(n("SN1b"),n("rmLU")),l=n("mEc7"),c=n("XaD9"),m=n("aH3e"),d=n("+ukg"),u=n("zoQI"),p=n("I7vG"),h=n("2Jhg"),g=n("LNSM"),b=n("eTAx"),E=n("1huE"),f=n("zR/0"),v=n("gy42"),y=n("1gzW"),C=n("lrqh"),k=n("PrA7"),w=n("nQSW"),N=n("ot6E"),x=n("REil"),O=n("Fgeo"),T=n("USP3"),D=n("0lfv"),P=n("+tHx");const _=()=>o.createElement("svg",{width:"12",height:"12",viewBox:"0 0 12 12"},o.createElement("g",{className:P.shape},o.createElement("path",{d:"M1.357 1.357l9.286 9.286M10.643 1.357l-9.286 9.286"})));var S=n("xpRD"),j=n("xs9a"),M=n("j/bg"),I=n("en8f"),B=n("nUbJ"),L=n("w3Tu");const U=864e5,G={[O.a.Work]:{icon:j,headline:"Using Grammarly for work?",catchphrase:"Get Grammarly Business for your entire team.",gnar:"gbFreeWork"},[O.a.StrongTeams]:{icon:M,headline:"Strong teams rely on clear communication.",catchphrase:"Unlock Grammarly Business for your team.",gnar:"gbFreeStrongTeams"},[O.a.StepUp]:{icon:B,headline:"Step up your team’s communication.",catchphrase:"Grammarly Business helps teams communicate clearly.",gnar:"gbFreeStepUp"},[O.a.FreeStyleGuide]:{icon:I,headline:"Try Style Guides in Grammarly Business",catchphrase:"Help your whole team stay on-brand.",gnar:"gbFreeStyleGuide"},[O.a.EveryTeammate]:{icon:j,headline:"Help every teammate sound credible and professional.",catchphrase:"",gnar:"gbPremiumEveryTeammate",freeTrial:!0},[O.a.Expensing]:{icon:M,headline:"Expensing Grammarly just got easier with Grammarly Business.",catchphrase:"",gnar:"gbPremiumExpensing",freeTrial:!0},[O.a.ViewPerformance]:{icon:B,headline:"Get Grammarly Business to view your team’s writing performance.",catchphrase:"",gnar:"gbPremiumViewPerformance",freeTrial:!0},[O.a.ForWorkTrial]:{icon:j,headline:"Using Grammarly for work?",catchphrase:"Try Grammarly Business for free with your entire team.",gnar:"gbPremiumForWorkTrial",freeTrial:!0},[O.a.PremiumStyleGuide]:{icon:I,headline:"Try Style Guides in Grammarly Business",catchphrase:"Help your whole team stay on-brand.",gnar:"gbPremiumStyleGuide",freeTrial:!0}};class R extends o.Component{constructor(){super(...arguments),this._subs=new E.a.Keeper,this.visibleBanner=g.a.create(this.getVisibleBanner(this.props.environment)),this.marginTop=g.a.create(this.getMarginTop()),this.onCloseRequest=()=>{this.visibleBanner.set(h.e)}}isEligiblePlatform(e){return e.platform===w.b.Platform.WEB}getCandidates(){const{closed:e}=this.props.settings.businessBanner.get();return(this.props.profile.type===x.UserType.free?[O.a.Work,O.a.StrongTeams,O.a.StepUp,O.a.FreeStyleGuide]:[O.a.EveryTeammate,O.a.Expensing,O.a.ViewPerformance,O.a.ForWorkTrial,O.a.PremiumStyleGuide]).filter(t=>-1===e.indexOf(t))}getVisibleBanner(e){if(!this.isEligiblePlatform(e)||!this.props.features.showBusinessBanner)return h.e;const t=this.getCandidates();return this.getRandomVariation(t).flatMap(e=>{const{latestCloseTime:t}=this.props.settings.businessBanner.get();return Object(p.pipe)(t,C.g.forAll(e=>Date.now()-e>U))?Object(h.h)(e):h.e})}getRandomVariation(e){return 0!==e.length?h.f.of(e[Math.floor(Math.random()*e.length)]):h.e}componentDidMount(){this._subs.push(this.visibleBanner.view(e=>e.nonEmpty()).pipe(f.a.switchMap(v.b.orEmpty(v.a.windowResize.pipe(f.a.throttleTime(50)))),f.a.map(()=>this.getMarginTop())).subscribe(v.b.toAtom(this.marginTop)))}componentWillUnmount(){this._subs.dispose()}getMarginTop(){return window.innerHeight<670?-45:window.innerHeight<700?Math.max(40-(700-window.innerHeight),10):window.innerHeight<760?40+window.innerHeight-700:Math.min(40+window.innerHeight-760,55)}render(){const{profile:e,settings:t,upgradeHook:n}=this.props;return o.createElement(s.a.div,{style:{marginTop:this.marginTop}},this.visibleBanner.view(D.a.mapOrDefault(a=>o.createElement(A,{variation:a,onCloseRequest:this.onCloseRequest,profile:e,settings:t,upgradeHook:n}),null)))}}const A=e=>{const t=k.Monitoring.Logging.getLogger("BusinessBanner"),{gnarSpec:n,pageId:a}=o.useContext(c.a.Context),r=o.useContext(b.a.Context),s=G[e.variation],i=o.useContext(N.a.Context).banners,l=!0===s.freeTrial?i.cta.tryTrial:i.cta.learnMore;y.a.useEffectOnDidMount(()=>{n.bannerNotificationShow(G[e.variation].gnar,a)});return o.createElement("div",{className:L.banner},o.createElement("div",{"data-name":"gb-close-btn",className:L.close,onClick:()=>{e.onCloseRequest();const{closed:t}=e.settings.businessBanner.get();e.settings.updateBusinessBanner({closed:Array.from(new Set([...t,e.variation])),latestCloseTime:C.g.some(Date.now())}),n.bannerCloseButtonClick(G[e.variation].gnar,a)}},o.createElement(_,null)),o.createElement("img",{className:L.icon,src:s.icon,alt:""}),o.createElement("div",{className:L.headline},s.headline),o.createElement("div",{className:L.catchphrase},s.catchphrase),o.createElement(u.a,{name:"gb-learn-more-btn",className:L.button,onClick:()=>Object(p.pipe)(C.b.tryCatchError(()=>{const t=e.variation;return n.getGBButtonClick(G[t].gnar,l,a,"homePageMenu"),e.upgradeHook.fromHome(T.a.Place.Home.editorMenuBusiness,t,s.freeTrial)}),C.b.chain(r.actions.openPopup),C.b.getOrElse(e=>t.fatal("unexpected error while opening business upgrade page",e)))},l,o.createElement("img",{className:L.buttonIcon,src:S,alt:""})))};var H=n("Bmtg");const F=({route:e,className:t="",preloadClassName:n="",title:a="",badge:s=""})=>o.createElement("div",Object.assign({},Object(r.c)(H.item,t)),o.createElement("span",{className:n}),o.createElement(l.d,{destination:e,className:H.link,activeClassName:H.active},o.createElement("span",{"data-name":a},a,Boolean(s)?o.createElement("i",null,s):null))),W=({profile:e,model:t,goToUpgradePage:n})=>{const s=o.useContext(i.a.Context),{gnarSpec:m,pageId:p}=o.useContext(c.a.Context),h=t.features.premiumBadge.enabled&&o.createElement("div",{"data-name":"premium-badge",key:"premium_badge",className:H.premiumBadge},d.g.isBusiness(t.features.denaliUserType)?"BUSINESS":d.g.isEdu(t.features.denaliUserType)?"EDU":"PREMIUM"),g=t.features.goPremium.enabled&&o.createElement("div",Object.assign({key:"premium_item"},Object(r.c)(H.item,H.premium)),o.createElement("span",{className:H.premiumPreload}),o.createElement(u.b,{name:"premium-lnk",onClick:()=>Object(a.__awaiter)(void 0,void 0,void 0,(function*(){yield m.getPremiumButtonClick(p,"goPremium","homePageMenu"),n()})),className:H.link},"Premium")),[b,...E]=function(e,t){const n=e.getNotInstalledAppsCount(t.groups);return[{className:H.myGrammarly,preloadClassName:H.myGrammarlyPreload,route:l.a.routes.documents.href(),title:"My Grammarly",badge:null,visible:!0},{className:0===n?H.appsFull:H.apps,preloadClassName:H.appsPreload,route:l.a.routes.apps.href(),title:"Apps",badge:n>0?n:"",visible:e.isAppsVisible()}]}(t,e).filter(e=>e.visible).map((e,t)=>o.createElement(F,Object.assign({key:t},e)));return o.createElement("div",null,h,b,t.features.eduAdminPanelLink.get().enabled?o.createElement("div",Object.assign({},Object(r.c)(H.item,H.eduAdminPanel)),o.createElement("span",{className:H.eduAdminPanelPreload}),o.createElement("a",{"data-name":"edu-admin-panel-lnk",href:s.edu.adminPanelURL,className:H.link},"Admin panel")):o.createElement("div",Object.assign({},Object(r.c)(H.item,H.account)),o.createElement("span",{className:H.accountPreload}),o.createElement("a",{"data-name":"account-lnk",href:s.urls.account,className:H.link},"Account")),E,g)},z=Object(l.e)(({children:e,logoutHandler:t,profile:n,modal:a,features:c},{telemetry:m})=>{const d=o.useContext(i.a.Context);return o.createElement("div",null,o.createElement("div",{"data-name":"editor-main-menu",className:H.main},o.createElement(l.d,{"data-name":"editor-menu-g-logo",className:H.logo,destination:l.a.routes.documents.href()}),o.createElement("div",{className:H.menu},o.createElement(s.a.div,{className:H.mainMenu},e),o.createElement("div",Object.assign({},Object(r.c)(H.help,H.item)),o.createElement("span",{className:H.helpPreload}),o.createElement("a",{"data-name":"support-lnk",href:d.support.login,target:"_blank",className:H.link,onClick:()=>m.supportClicked()},"Support")),o.createElement("div",Object.assign({},Object(r.c)(H.logout,H.item)),o.createElement("span",{className:H.logoutPreload}),o.createElement(u.b,{name:"logout-lnk",className:H.link,onClick:()=>{a.show({type:"signOut",signOut:t,user:c.denaliUserType})}},"Sign Out"),o.createElement("span",{"data-name":"username",className:H.username},n.email)))),"prod"!==d.env&&"dev"!==d.env&&o.createElement("div",{className:H.noProdLabel},"Beware! You're running on ",d.env," env"))}),V=({navigationBar:e,profile:t,features:n,modal:a,settings:r,goToUpgradePage:i,logoutHandler:l=(()=>Promise.resolve()),upgradeHook:c})=>{const d=o.useContext(m.a.Context);return o.createElement(s.a.Fragment,null,t.view(t=>o.createElement(z,{logoutHandler:l,profile:t,modal:a,features:n},o.createElement(W,{profile:t,modal:a,model:e,features:n,goToUpgradePage:i}),o.createElement(R,{features:n,profile:t,settings:r,upgradeHook:c,environment:d}))))}},IwqX:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return y}));var a=n("ERkP"),o=n("QMvg"),r=n("mEc7"),s=n("nQSW"),i=n("ot6E"),l=n("AI7b"),c=n("9NHN"),m=n("TNDH");const d=({withSeparator:e=!1,children:t=null})=>a.createElement("div",Object.assign({},Object(c.c)(m.header,e&&m.underlined)),t);var u=n("Q38S");const p=Object(r.e)(({children:e,name:t})=>a.createElement("div",{"data-name":t,className:u.wrap},e));var h=n("vOOZ"),g=n("SN1b"),b=n("zoQI"),E=n("8qTe");const f=({items:e,apps:t})=>a.createElement(h.a.div,null,e.map(e=>{var n;return a.createElement("div",{"data-name":e.app,className:E.app,key:e.app},a.createElement("div",Object.assign({},Object(c.c)(E.img,E[e.app]))),a.createElement("div",{className:E.wrap},a.createElement("div",{className:E.content},a.createElement("div",{"data-name":"app-title",className:E.title},e.title,Boolean(e.title_extra)?a.createElement(a.Fragment,null,a.createElement("br",null),e.title_extra):null),a.createElement("div",{"data-name":"text",className:E.text},e.text))),null!==(n=e.withoutInstallationGuide)&&void 0!==n&&n?null:a.createElement("div",{"data-name":"install-btn",className:E.actionsContainer},e.installed?a.createElement(h.a.Fragment,null,a.createElement("div",null,Boolean(e.tooltip)?a.createElement(g.a,{title:e.tooltip,align:"top"},a.createElement("span",Object.assign({},Object(c.c)(E.btn,E.active)),"Active")):a.createElement("span",Object.assign({},Object(c.c)(E.btn,E.active)),"Active")),a.createElement("div",null,l.a.App.isExtension(e.app)?a.createElement("a",{className:E.link,href:e.more,target:"_blank"},"Re‑install"):a.createElement("a",{className:E.link,href:e.link,target:l.a.App.isExternalDownloadSource(e.app)?"_blank":"_self",onClick:()=>t.onReInstallClicked(e.app)},"Re‑install"))):a.createElement(h.a.Fragment,null,a.createElement("div",null,Boolean(e.link)?a.createElement(b.e,{className:E.appsBtn,color:"blue",href:e.link,target:e.target,onClick:()=>t.onInstallClicked(e.app)},Boolean(e.linkLabel)?e.linkLabel:"Install"):a.createElement(b.a,{className:E.appsBtn,color:"blue",onClick:()=>t.onInstallClicked(e.app)},Boolean(e.linkLabel)?e.linkLabel:"Install")))))})),v={desktopMac:{app:"desktop-mac",title:"Grammarly for Mac",text:"Grammarly for your desktop is your one-stop solution to get writing suggestions across a wide array of desktop apps and websites.",tooltip:"Grammarly for macOS is already installed."},desktopWindows:{app:"desktop-windows",title:"Grammarly for Windows",text:"Grammarly for your desktop is your one-stop solution to get writing suggestions across a wide array of desktop apps and websites.",tooltip:"Grammarly for Windows is already installed."},extensionChrome:{app:"extension-chrome",title:"Grammarly for Chrome",text:"Grammarly’s browser extensions offer writing suggestions in Google Docs and other sites across the web.",tooltip:"Grammarly’s Chrome Browser Extension is already installed"},extensionSafari:{app:"extension-safari",title:"Grammarly for Safari",text:"Grammarly’s browser extensions offer writing suggestions in Google Docs and other sites across the web.",tooltip:"Grammarly’s Safari Browser Extension is already installed"},extensionFirefox:{app:"extension-firefox",title:"Grammarly for Firefox",text:"Grammarly’s browser extensions offer writing suggestions in Google Docs and other sites across the web.",tooltip:"Grammarly’s Firefox Browser Extension is already installed"},extensionEdge:{app:"extension-edge",title:"Grammarly for Microsoft Edge",text:"Grammarly’s browser extensions offer writing suggestions in Google Docs and other sites across the web.",tooltip:"Grammarly’s Microsoft Edge Browser Extension is already installed"},iOS:{app:"iOS",title:"Grammarly for iPhone and iPad",text:"Write confidently and professionally across all your apps and websites with Grammarly’s writing suggestions, anywhere you go."},android:{app:"android",title:"Grammarly for Android",text:"Write clearly, confidently, and mistake-free across all your apps with your Grammarly Keyboard and personal writing assistant."}};class y extends r.b{_getItems(){const{model:e,config:t}=this.props;return e.apps.getAppsItems().map(e=>{switch(e.app){case l.a.App.extensionFirefox:return Object.assign({},v.extensionFirefox,e,{more:t.extension.firefox.infoURL});case l.a.App.extensionSafari:return Object.assign({},v.extensionSafari,e,{more:t.extension.safari.installURL,link:t.extension.safari.installURL,target:"_blank"});case l.a.App.extensionEdge:return Object.assign({},v.extensionEdge,e,{more:t.extension.edge.infoURL,link:t.extension.edge.installURL,target:"_blank"});case l.a.App.extensionEdgeChromium:return Object.assign({},v.extensionEdge,e,{more:t.extension.edgeChromium.installURL,link:t.extension.edgeChromium.installURL,target:"_blank"});case l.a.App.desktopWindows:return Object.assign({},v.desktopWindows,e,{link:t.llama.windows});case l.a.App.desktopMac:return Object.assign({},v.desktopMac,e,{link:t.llama.mac});case l.a.App.iOS:return Object.assign({},v.iOS,e,{link:t.mobileApp.iOS,target:"_blank"});case l.a.App.android:return Object.assign({},v.android,e,{link:t.mobileApp.android,target:"_blank"});case l.a.App.extensionChrome:default:return Object.assign({},v.extensionChrome,e,{more:t.extension.chrome.infoURL,link:t.extension.chrome.installURL,target:"_blank"})}})}render(){const{apps:e,extension:t}=this.props.model,n=this._getItems();return a.createElement(i.a.Context.Provider,{value:this.props.textResources},a.createElement(r.c,{title:"Grammarly Apps"},a.createElement(o.a,{model:this.props.model},a.createElement(s.c,{onMount:()=>this.context.telemetry.appsPageShown()},a.createElement(p,null,a.createElement(d,null,"Grammarly Apps"),a.createElement(f,Object.assign({},{apps:e,items:n,extension:t})))))))}}},J7iw:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n("ERkP"),o=n("vOOZ"),r=n("9NHN"),s=n("zR/0"),i=n("mEc7"),l=n("jWzs");const c=Object(i.e)(({searchText:e,isSearching:t,isEnabled:n})=>a.createElement("div",{className:l.header},a.createElement("div",{className:l.search},a.createElement(o.a.input,Object.assign({"data-name":"doc-search-input",className:l.input,type:"text"},Object(r.b)({value:e}),{placeholder:"Search...",maxLength:120,disabled:n})),a.createElement(o.a.div,Object.assign({"data-name":"doc-search-btn"},Object(r.c)(l.btn,e.pipe(s.a.map(e=>e&&l.clear)),t.pipe(s.a.map(e=>e&&l.progress))),{onClick:()=>e.set("")})))))},QMvg:function(e,t,n){"use strict";n.d(t,"a",(function(){return oe}));var a=n("D57K"),o=n("ERkP"),r=n("mEc7"),s=n("Pe9T"),i=n("WCjN"),l=n("laI6");const c=()=>o.createElement("div",{className:l.fontsPreload},o.createElement("span",{className:l.proximaNovaSoft}),o.createElement("span",{className:l.proximaNovaSoftBold}),o.createElement("span",{className:l.diariaBoldPro}),o.createElement("span",{className:l.diariaLightPro}),o.createElement("span",{className:l.lato}));var m=n("9NHN"),d=n("6fbX"),u=n("ot6E"),p=n("s6Vz"),h=n("nQSW"),g=n("zoQI"),b=n("3v7d"),E=n("P3tY"),f=n("/HRo");const v=({onClick:e})=>o.createElement(g.a,{onClick:e},"Go to My Documents"),y=Object(m.d)(b.a),C=({proofit:e,email:t,goToMyDocuments:n})=>{const{state:a,onMount:r}=Object(E.a)(e);return o.createElement(h.c,{onMount:r,remountOnUpdate:!0},o.createElement("div",{className:f.wrapper},o.createElement("div",{className:f.header},"We’re proofreading your document!",o.createElement("h3",{className:f.subtitle},"Grammarly proofreaders are already working on your document.")),o.createElement("div",{className:f.content},o.createElement(y,{remaining:a.view("seconds"),percentage:a.view("percentage"),countdown:"long",style:{wrapper:f.progressBar}}),o.createElement("p",{className:f.whatNext},"What happens next?"),o.createElement("ul",null,o.createElement("li",null,"Your document is locked from editing while it’s being proofread."),o.createElement("li",null,"You can see the status of your document on the progress bar here or on the ",o.createElement("b",null,"My Documents")," page"),o.createElement("li",null,"When complete, we will email a corrected version of your document (.docx) to ",o.createElement("b",null,t),"."))),o.createElement("div",{className:f.footer},o.createElement(v,{onClick:n}),o.createElement("span",{className:f.fbInvitation},"or, while we’re hard at work, ",o.createElement("br",null),"you can relax and enjoy"," ",o.createElement("a",{href:"http://www.facebook.com/grammarly",target:"_blank"},"Grammarly’s Facebook")," page!"))))};var k=n("t7RH");const w=({backToMyDocuments:e,document:t,downloadOriginal:n})=>o.createElement("div",{className:k.wrapper},o.createElement("div",{className:k.header},"We’re proofreading now!"),o.createElement("div",{className:k.lockIcon}),o.createElement("div",{className:k.content},o.createElement("p",{className:k.message},"This document is locked from editing",o.createElement("br",null),"until we’ve finished proofreading it."),o.createElement("p",null,"Meanwhile, you can download the original version",o.createElement("br",null),"of the document.")),o.createElement("div",{className:k.footer},o.createElement(g.a,{className:k.download,name:"download-original-btn",onClick:()=>n(t)},"Download original document"),"or",o.createElement("a",{className:k.backToMyDocuments,onClick:e},"Back to My Documents")));var N=n("Bz9W");const x=({onClick:e})=>o.createElement(g.a,{onClick:e},"Go to Manage Subscription"),O=({onClick:e})=>o.createElement(g.a,{onClick:e,size:"small",className:N.button},"Create new document"),T=({onClick:e})=>o.createElement(g.a,{onClick:e,size:"small",transparent:!0,className:N.button},"Edit current document");const D=()=>o.createElement("div",Object.assign({},Object(m.c)(N.wrapper,N.paymentError)),o.createElement("div",{className:N.header},o.createElement("div",null,o.createElement("span",{className:N.warningIcon}),"Order cannot be processed")),o.createElement("div",{className:N.content},"To order proofreading services, please contact your account administrator."),o.createElement("div",{className:N.footer})),P=({isInstitution:e,goToManageSubscription:t})=>{const n=e?o.createElement("span",null,"To order proofreading services, please contact your account administrator."):o.createElement("span",null,"To ensure uninterrupted access to Grammarly and to be able to order proofreading services, please update your payment information under ",o.createElement("b",null,"Manage Subscription"),".");return o.createElement("div",Object.assign({},Object(m.c)(N.wrapper,N.paymentError)),o.createElement("div",{className:N.header},o.createElement("div",null,o.createElement("span",{className:N.warningIcon}),"Order cannot be placed")),o.createElement("div",{className:N.content},n),o.createElement("div",{className:N.footer},!e&&o.createElement(x,{onClick:()=>t()})))},_=e=>{const t=function(e){switch(e){case"creditCard":return"Your card has been declined.";case"payPal":return"Your PayPal account has been declined.";default:throw new Error(`unknown payment method: ${e}`)}}(e.paymentMethod);return o.createElement("div",Object.assign({},Object(m.c)(N.wrapper,N.paymentError)),o.createElement("div",{className:N.header},o.createElement("div",null,o.createElement("span",{className:N.warningIcon}),"Order cannot be processed"),o.createElement("h3",{className:N.subtitle},o.createElement("b",null,t))),o.createElement("div",{className:N.content},"To ensure uninterrupted access to Grammarly and to be able to order proofreading services, please update your payment information under ",o.createElement("b",null,"Manage Subscription"),"."),o.createElement("div",{className:N.footer},o.createElement(x,{onClick:()=>e.goToManageSubscription()})))},S=e=>o.createElement("div",Object.assign({},Object(m.c)(N.wrapper,N.alreadyProofreadError)),o.createElement("div",{className:N.header},"This document is a recent submission"),o.createElement("div",{className:N.content},o.createElement("p",null,"The text you are trying to send for human proofreading was reviewed by our team. Please edit your text or select another document before you re-submit.")),o.createElement("div",{className:N.footer},o.createElement(O,{onClick:()=>e.createNewDocument()}),o.createElement(T,{onClick:()=>e.editCurrentDocument()}))),j=e=>o.createElement("div",Object.assign({},Object(m.c)(N.wrapper,N.alreadyProofreadError)),o.createElement("div",{className:N.header},"This document cannot be corrected"),o.createElement("div",{className:N.content},o.createElement("p",null,"The text you are trying to send for human proofreading has complex internal structure. Please edit your text (e.g., remove significantly long tables) or select another document.")),o.createElement("div",{className:N.footer},o.createElement(O,{onClick:()=>e.createNewDocument()}),o.createElement(T,{onClick:()=>e.editCurrentDocument()}))),M=e=>o.createElement("div",Object.assign({},Object(m.c)(N.wrapper,N.alreadyProofreadError)),o.createElement("div",{className:N.header},"Document is empty"),o.createElement("div",{className:N.content},o.createElement("p",null,"The document you are trying to submit is empty. Please write something and try again.")),o.createElement("div",{className:N.footer},o.createElement(T,{onClick:()=>e.editCurrentDocument()}))),I=e=>o.createElement("div",Object.assign({},Object(m.c)(N.wrapper,N.emptyDocumentWarning)),o.createElement("div",{className:N.header},"Oops! Something went wrong…"),o.createElement("div",{className:N.content},o.createElement("p",null,"Please try again later.")),o.createElement("div",{className:N.footer},o.createElement(T,{onClick:()=>e.editCurrentDocument()}))),B=e=>{switch(e.reason){case"payment":return e.isInstitution?o.createElement(D,null):o.createElement(_,{paymentMethod:e.paymentMethod,goToManageSubscription:e.goToManageSubscription});case"alreadyProofread":return o.createElement(S,{createNewDocument:e.createNewDocument,editCurrentDocument:e.editCurrentDocument});case"complexInternalStructure":return o.createElement(j,{createNewDocument:e.createNewDocument,editCurrentDocument:e.editCurrentDocument});case"Proofit is forbidden":case"unknown":return o.createElement(I,{editCurrentDocument:e.editCurrentDocument});case"emptyDocumentWarning":return o.createElement(M,{editCurrentDocument:e.editCurrentDocument});default:return Object(d.d)(e.reason)}};var L=n("R+r4"),U=n("D9EC"),G=n("hoSD"),R=n("XaD9"),A=n("sWIT"),H=n("VgYc");const F=()=>o.createElement(g.a,{onClick:U.e,size:"small",disabled:!0,transparent:!0,className:H.disabledButton},"Unavailable"),W=({onClick:e,disabled:t})=>o.createElement(g.a,{role:"button",onClick:e,size:"small",transparent:!0,className:H.selectTurnaroundButton,disabled:t},"Select ",o.createElement("span",{className:H.arrow})),z=({onClick:e,disabled:t})=>o.createElement(g.a,{role:"button",onClick:e,size:"small",showSpinnerWhenDisabled:!0,disabled:t},"Place order"),V=({total:e,paymentMethod:t})=>{switch(t){case"payPal":return o.createElement("div",null,"By clicking ",o.createElement("b",null,"Place order")," you authorize a charge of",o.createElement("b",null,"$",G.f.formatPrice(e))," to your PayPal account.");case"creditCard":return o.createElement("div",null,"By placing an order you agree that your card will be charged for"," ",o.createElement("b",null,"$",G.f.formatPrice(e)),".");case"stripe":case void 0:return o.createElement("div",null,"By clicking ",o.createElement("b",null,"Place order")," you authorize a charge of",o.createElement("b",null," $",G.f.formatPrice(e)),".");default:return Object(d.d)(t)}},Y=e=>{const{gnarSpec:t,pageId:n,docId:a}=o.useContext(R.a.Context);return o.createElement("div",{className:H.wrapper},e.plans?null:o.createElement(A.a,{className:H.spinner}),o.createElement("div",{className:H.header},"Save time and ensure accuracy",o.createElement("br",null),"with professional proofreading",o.createElement("h3",{className:H.subtitle},"How fast do you need your document returned?")),o.createElement("div",{className:H.content},e.plans&&e.plans.map(r=>{const s=!r.enabled,i=e.selectedPlan===r.turnaround;let l;return l=s?o.createElement(F,null):i?o.createElement(z,{onClick:()=>{t.professionalProofreadingPlaceOrderButtonClick(a,n,L.a.PlanType.getPlanName(r.turnaround),r.tier),e.placeOrder()},disabled:e.placingOrder}):o.createElement(W,{onClick:()=>{t.professionalProofreadingSelectButtonClick(a,n,L.a.PlanType.getPlanName(r.turnaround),r.tier),e.selectPlan(r.turnaround)},disabled:e.placingOrder}),o.createElement("div",Object.assign({key:r.turnaround},Object(m.c)(H.turnaround,i&&H.selected,s&&H.disabled)),e.mostPopularType===r.turnaround?o.createElement("div",{className:H.mostPopular},"MOST POPULAR"):null,o.createElement("div",{className:H.label},r.label),o.createElement("div",{className:H.priceDetails},o.createElement("div",{className:H.total},"$",G.f.formatPrice(r.price)),o.createElement("div",{className:H.perWord},"$",r.perWord," per word",o.createElement("span",{className:H.wordCount}," × ",e.wordCount," words"))),Boolean(e.selectPlan)?l:"",i&&!e.isInstitution?o.createElement("div",{className:H.warning},o.createElement(V,{total:r.price,paymentMethod:e.paymentMethod})):null)})),o.createElement("div",{className:H.footer},o.createElement("div",{className:H.feature},"Multiple proofreaders work simultaneously, ensuring lightning-fast turnaround."),o.createElement("div",{className:H.feature},"Experienced professionals, many with Master’s and PhD degrees in English."),o.createElement("div",{className:H.feature},"Our proofreaders are always available, 24 hours a day, 7 days a week.")))};class q extends o.Component{render(){const e=this.props.state;switch(e.step){case"selectPlan":return e.plans&&!e.plans.length?o.createElement(P,{isInstitution:this.props.isInstitution,goToManageSubscription:this.props.goToManageSubscription}):o.createElement(Y,Object.assign({wordCount:this.props.wordCount,paymentMethod:this.props.paymentMethod,isInstitution:this.props.isInstitution,selectPlan:this.props.selectPlan,placeOrder:this.props.placeOrder},e));case"error":return null==e.latestError?null:o.createElement(B,{reason:e.latestError,paymentMethod:this.props.paymentMethod,isInstitution:this.props.isInstitution,createNewDocument:this.props.createNewDocument,editCurrentDocument:this.props.editCurrentDocument,goToManageSubscription:this.props.goToManageSubscription});default:return null}}}var Z=n("fGTb"),Q=n("vM/V");const X=({onHide:e,opts:t})=>{const n=o.useContext(u.a.Context),a=o.useContext(r.a.Context),s=()=>{a.navigate(r.a.routes.documents.href()),e()};switch(t.type){case"copyPaste":return o.createElement(i.c,{className:Q.copyPasteModal,dialogHideHandler:e},o.createElement("div",{className:Q.wrap},o.createElement("p",{className:Q.text},"Copying and pasting is not supported by your browser, but you can still use:"),o.createElement("div",{className:Q.hotkeyBlock},o.createElement("div",{className:Q.hotkey},n.commandKeyLabel("V")),"for paste"),o.createElement("div",{className:Q.hotkeyBlock},o.createElement("div",{className:Q.hotkey},n.commandKeyLabel("C")),"for copy")));case"upload":return o.createElement(i.c,{dialogHideHandler:()=>{},className:Q.uploadModal,hasCloseBtn:!1},o.createElement("div",null,o.createElement("div",{className:Q.message},n.modalUploadingDocumentText),o.createElement(A.a,{size:18})));case"documentNotFound":return o.createElement(i.c,{overlayType:"dark",dialogHideHandler:s},o.createElement(p.a,{hide:s}));case"proofitSend":const a=Object(m.d)(q);return t.model.onCloseDialog(e),o.createElement(i.c,{dialogHideHandler:t.model.dialogHideHandler,overlayType:"dark"},o.createElement(a,Object.assign({},t.model,{state:t.model.state})));case"proofitLock":return o.createElement(i.c,{dialogHideHandler:s,overlayType:"dark"},o.createElement(w,{backToMyDocuments:s,document:t.doc,downloadOriginal:t.downloadOriginal}));case"proofitInProgress":return o.createElement(i.c,{dialogHideHandler:s,overlayType:"dark"},o.createElement(C,{proofit:t.proofit,email:t.email,goToMyDocuments:s}));case"sendToProofreader":throw new Error("not implemented");case"inProgressSpinner":return o.createElement(i.a,null);case"signOut":return o.createElement(Z.SignOutPopup,{signOut:t.signOut,modalOperations:{onClose:()=>s()},user:t.user});case null:throw new TypeError(`unexpected ModalType ${t}`);default:return Object(d.d)(t)}};var K=n("/H08"),$=n("smll"),J=n("vOOZ"),ee=n("BVlN"),te=n("DQoU"),ne=n("9UB/");const ae=({profile:e,modal:t,features:n,settings:a,goToUpgradePage:r,logoutHandler:s=(()=>Promise.resolve()),navigationBar:i,children:l=null,upgradeHook:c})=>o.createElement("div",Object.assign({},Object(m.c)(ne.main,ee.a.ignoreClass)),o.createElement("div",{className:ne.nav},o.createElement(te.a,{navigationBar:i,profile:e,modal:t,settings:a,features:n,goToUpgradePage:r,logoutHandler:s,upgradeHook:c})),o.createElement(J.a.div,{className:ne.view},l));class oe extends o.Component{constructor(){super(...arguments),this._subs=[],this._logout=()=>Object(a.__awaiter)(this,void 0,void 0,(function*(){yield this.props.model.telemetryLegacy.logout(),this.props.model.userAccount.logout()}))}_hideElementsOnNavigation(){return this.context.location.subscribe(()=>{this.props.model.overlay.hide(),this.props.model.modal.hide()})}componentDidMount(){this._subs.push(this._hideElementsOnNavigation())}componentWillUnmount(){this._subs.length&&this._subs.forEach(e=>e.unsubscribe()),this._subs=[]}render(){const{profile:e,subscription:t,settings:n,features:a}=this.props.model.userAccount,{modal:r,editorTsNotifications:l,navigationBar:m,overlay:d,upgradeHook:u}=this.props.model;return o.createElement(ae,{key:"index_authenticated",profile:e,goToUpgradePage:()=>t.navigateToUpgradeUrl(s.i.Place.Home.editorMenu),logoutHandler:this._logout,navigationBar:m,modal:r,features:a,settings:n,upgradeHook:u},o.createElement(c,null),o.createElement(K.a,{key:"notificationCenter",notifications:l}),o.createElement($.a,null),o.createElement("div",{key:"view"},this.props.children),r.state.view(e=>e.visible&&o.createElement(X,{key:"modal",opts:e.opts,onHide:()=>r.hide()})),d.state.view(e=>e.visible&&o.createElement(i.f,{key:"overlay",preventSelection:!0})))}}oe.contextType=r.a.Context},WCjN:function(e,t,n){"use strict";n.d(t,"d",(function(){return c})),n.d(t,"e",(function(){return m})),n.d(t,"f",(function(){return d})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return p})),n.d(t,"a",(function(){return h}));var a=n("ERkP"),o=n("9NHN"),r=n("q4n/"),s=n("mEc7"),i=n("sWIT"),l=n("UAA8");class c extends s.b{constructor(){super(...arguments),this.keyDownHandler=e=>{e.keyCode===r.a.ESC_CODE&&this.props.onEscPress&&this.props.onEscPress()}}componentDidMount(){this.props.onEscPress&&document.addEventListener("keydown",this.keyDownHandler)}componentWillUnmount(){this.props.onEscPress&&document.removeEventListener("keydown",this.keyDownHandler)}render(){return a.Children.only(this.props.children)}}c.defaultProps={onEscPress:void 0};class m extends s.b{constructor(){super(...arguments),this.handleOverlayClick=e=>{e.target===this._el&&this.props.onOverlayClick&&this.props.onOverlayClick()}}render(){const{className:e,children:t,style:n}=this.props;return a.createElement("div",{ref:e=>this._el=e,onClick:this.handleOverlayClick,className:e,style:n},t)}}class d extends s.b{constructor(){super(...arguments),this._focus=()=>{this._el&&this._el.focus()},this._keyPressHandler=e=>{9===(e.keyCode||e.which)&&(e.preventDefault(),this._focus())}}componentDidMount(){Boolean(this.props.preventSelection)&&(this._focus(),document.addEventListener("keydown",this._keyPressHandler))}componentWillUnmount(){Boolean(this.props.preventSelection)&&document.removeEventListener("keydown",this._keyPressHandler)}render(){const{overlayType:e="light",preventSelection:t=!1,onOverlayClick:n,children:r}=this.props;return a.createElement(m,Object.assign({onOverlayClick:n},Object(o.c)(l.wrapper,l[e],t&&l.preventSelection)),a.createElement("div",{className:l.noOutline,tabIndex:-1,ref:e=>this._el=e},r))}}const u=({dialogHideHandler:e,children:t,className:n="",hasCloseBtn:r=!0})=>a.createElement(c,{onEscPress:e},a.createElement("div",Object.assign({},Object(o.c)(n,l.modal)),r&&a.createElement("div",{className:l.close,onClick:e}),t)),p=({overlayType:e="light",dialogHideHandler:t,children:n,className:r="",hasCloseBtn:s=!0,closeByOverlayClick:i=!0,closeByEscClick:m=!0})=>a.createElement(d,{overlayType:e,onOverlayClick:i?t:void 0},a.createElement(c,{onEscPress:m?t:void 0},a.createElement("div",Object.assign({},Object(o.c)(r,l.modal)),s&&a.createElement("div",{className:l.close,onClick:t}),n))),h=()=>a.createElement(d,{overlayType:"light"},a.createElement(i.a,null))},en8f:function(e,t,n){e.exports=n.p+"files/d8bedbfe10dc055f1a3c1521fa397e8b/style_guide.svg"},fGTb:function(e,t,n){"use strict";n.r(t),n.d(t,"SignOutPopupHeader",(function(){return w})),n.d(t,"SignOutPopup",(function(){return N}));var a=n("ERkP"),o=n("rk+4"),r=n("nnns"),s=n("D6Vf"),i=n("BugA"),l=n("ax6a"),c=n("6gXa"),m=n("aqMe");const d=c.a.joinClasses([m.base,c.a.style({color:l.a.CoreNeutral80,marginBottom:c.a.rem(1.5)})]),u=c.a.joinClasses([m.header3,c.a.style({color:l.a.CoreNeutral80,marginTop:c.a.rem(1.5)})]),p=c.a.joinClasses([m.base,c.a.style({color:l.a.CoreNeutral60,width:c.a.rem(12.8125),height:c.a.rem(2.625)})]),h=c.a.joinClasses([m.header4,c.a.style({color:l.a.CoreNeutral80})]),g={marginTop:c.a.rem(1.5),width:c.a.percent(50),height:c.a.rem(5)},b={borderTop:`1px solid ${l.a.CoreNeutral30}`},E=c.a.stylesheet({allFeaturesContainer:[{display:"flex",flexWrap:"wrap"}],featureTitleContainer:[{display:"flex",alignItems:"center"}],feature:[g],bodyContainer:[b]}),f=({feature:e})=>a.createElement("div",{className:E.feature},a.createElement("div",{className:E.featureTitleContainer},e.icon,a.createElement("h4",{className:h},e.title)),a.createElement("div",{className:p},e.description)),v=()=>{const e=a.useContext(o.a.Context).SignOutModal;return a.createElement("div",null,a.createElement("div",{className:d},"This will sign you out of Grammarly Business on all websites."),a.createElement("div",{className:E.bodyContainer},a.createElement("h3",{className:u},"You won't have access to:"),a.createElement("div",{className:E.allFeaturesContainer},e.features.map(e=>a.createElement(f,{feature:e,key:e.title})))))};var y=n("+ukg"),C=n("XaD9"),k=n("gacv");const w=()=>{const e=a.useContext(s.a.TitleIdContext),t=a.useContext(o.a.Context).SignOutModal.title;return a.createElement(i.H1,{id:e},t)},N=({signOut:e,modalOperations:t,user:n})=>{const o=a.useContext(C.a.Context);return y.g.isBusiness(n)?(o.gnarSpec.signOutModalOpen(o.pageId),a.createElement(s.c,{positionType:"fixed",animate:!0,onClose:t.onClose},a.createElement(s.a,{className:k.wrapper},a.createElement(s.a.Header,{className:k.modalHeader},a.createElement(w,null)),a.createElement(s.a.Body,{className:k.modalBody,name:"signOutBody"},a.createElement(v,null)),a.createElement(s.a.Footer,null,a.createElement(r.a.Ghost,{name:"cancel",onClick:()=>{o.gnarSpec.signOutModalCancelClick(o.pageId),t.onClose()}},"Cancel"),a.createElement(r.a.Primary,{name:"signOut",onClick:()=>{o.gnarSpec.signOutModalSignOutClick(o.pageId),e()}},"Yes, sign out"))))):(e(),null)}},"j/bg":function(e,t,n){e.exports=n.p+"files/4574334007790325c1fcfebb95cc3107/green_icon.svg"},kTRt:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a,o=n("zR/0");!function(e){e.emit=e=>window.dispatchEvent(new CustomEvent("scrollaction",{detail:e})),e.observe=o.a.defer(()=>o.a.fromEvent(window,"scrollaction"))}(a||(a={}))},kbau:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a=n("ERkP"),o=n("rk+4"),r=n("CvSs"),s=n("mEc7"),i=n("nQSW"),l=n("Pe9T"),c=n("il7+");const m=e=>"safari"===e?l.d.ACCEPTED_UPLOAD_MIME_TYPES.join(","):l.d.ACCEPTED_UPLOAD_EXTENSIONS.join(",");class d extends s.b{constructor(){super(...arguments),this._onMount=e=>{var t,n;null===(n=(t=this.props).mount)||void 0===n||n.call(t,e),null!=e&&(this._inputElement=e,this._inputElement.onchange=e=>this._onChange()(e))},this._onChange=()=>e=>{Boolean(e.persist)&&e.persist();const t="dataTransfer"in e?e.dataTransfer.files:e.target.files;if(!Boolean(t)||!t.length||r.a.isInProgress(this.props.documentUpload.state.get()))return;const n=this.props.documentUpload.upload({files:t,notify:1===t.length,allowMultiple:this.props.multiple,isDragNDrop:!1}).then(()=>{this._inputElement.value=""});void 0!==this.props.onUpload&&this.props.onUpload(n)}}componentWillUnmount(){this.props.documentUpload.navigated()}render(){const{hideTooltip:e}=this.props;return a.createElement(i.b.Context.Consumer,null,t=>a.createElement(o.a.Context.Consumer,null,n=>a.createElement("input",{ref:this._onMount,id:"upload","data-name":"upload-element",type:"file",tabIndex:-1,accept:m(t.info.browser),title:n.tooltipUploadElementInput,multiple:this.props.multiple,className:Boolean(e)?c.upload:c.uploadContainer,onChange:this._onChange()})))}}},nUbJ:function(e,t,n){e.exports=n.p+"files/139c74a32607482cfa012ef3dc866a70/violet_icon.svg"},p7hf:function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return p}));var a=n("ERkP"),o=n("LNSM"),r=n("vOOZ"),s=n("9NHN"),i=n("zR/0"),l=n("hoSD"),c=n("ot6E"),m=n("sWIT"),d=n("NIeu");class u extends a.Component{constructor(){super(...arguments),this.isDropZoneVisible=o.a.create(!1),this.isDropZoneHovered=o.a.create(!1),this.timeout=void 0,this.isDocumentUploading=o.a.create(!1),this.onLeave=()=>{this.isDropZoneVisible.set(!1),this.isDropZoneHovered.set(!1)},this.onDragOver=e=>(this.isDropZoneVisible.set(!0),this.isDropZoneHovered.set(this.props.canDrop(e)),Boolean(this.timeout)&&clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.onLeave(),100),e.stopPropagation(),e.preventDefault(),!1),this.onDrop=e=>{e.preventDefault(),e.stopPropagation(),this.onLeave(),this.props.canDrop(e)&&(this.isDocumentUploading.set(!0),this.props.documentUpload.upload({files:e.dataTransfer.files,notify:!0,allowMultiple:this.props.multiple,isDragNDrop:!0}).then(()=>this.isDocumentUploading.set(!1)))},this._subs=[]}componentDidMount(){this._subs=[i.a.fromEvent(document,"dragover").subscribe(this.onDragOver),i.a.fromEvent(document,"drop").subscribe(this.onDrop)]}componentWillUnmount(){this._unsubscribe(),this.props.documentUpload.navigated()}render(){return this.props.render(this.isDropZoneVisible,this.isDropZoneHovered,this.isDocumentUploading)}_unsubscribe(){this._subs.forEach(e=>e.unsubscribe()),this._subs=[]}}const p=e=>{const t=a.useContext(c.a.Context);return a.createElement(u,Object.assign({},e,{canDrop:e=>l.c.hasParentWithClassName(e.target,d.dropzone),render:(e,n,o)=>a.createElement(r.a.div,Object.assign({},Object(s.c)(d.dropZoneElement,e.pipe(i.a.map(e=>e&&d.active)),n.pipe(i.a.map(e=>e&&d.hovered)),o.pipe(i.a.map(e=>e&&Object(s.c)(d.active,d.hovered).className)))),a.createElement(r.a.div,{className:d.dropzone},o.pipe(i.a.map(e=>e?a.createElement("div",{className:d.progressContainer,key:"uploading"},a.createElement("div",{className:d.message},t.modalUploadingDocumentText),a.createElement(m.a,{size:18})):a.createElement("div",{className:d.dropzoneMiddleblock,key:"dropAFile"},"Drop a text file here")))))}))}},"q4n/":function(e,t,n){"use strict";var a,o;n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return o})),function(e){e.ESC_CODE=27,e.ENTER_CODE=13}(a||(a={})),function(e){e.isLeftMouseButtom=function(e){return 1===e.which||0===e.button}}(o||(o={}))},s6Vz:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n("ERkP"),o=n("zoQI"),r=n("dll8");const s=({hide:e})=>a.createElement("div",{className:r.dialog,"data-name":"doc-not-found"},a.createElement("h1",{className:r.title},"Can’t find this document"),a.createElement("p",{className:r.message},"It looks like this document was removed ",a.createElement("br",null),"or URL is incorrect."),a.createElement("div",{className:r.back},a.createElement(o.a,{onClick:e},"Go to your documents")))},smll:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var a=n("ERkP"),o=n("I7vG"),r=n("9NHN"),s=n("v1xk"),i=n("6fbX"),l=n("lrqh"),c=n("BF0k");class m extends a.Component{_alignmentToClassMapper(e){switch(e){case"top":return c.top;case"right":return c.right;case"auto":case"center":case"bottom":case"left":case"topCenter":case"topLeft":case"topRight":case"bottomCenter":case"bottomRight":case"bottomLeft":return"";default:return Object(i.d)(e)}}render(){return a.createElement(s.a,null,e=>a.createElement("div",Object.assign({ref:e=>this._el=e},Object(r.c)(c.tooltip,Object(o.pipe)(e,l.g.map(e=>this._alignmentToClassMapper(e.alignment)),l.g.toNullable)),{style:this._getTooltipStyle(e)}),Object(o.pipe)(e,l.g.map(e=>e.content),l.g.toNullable)))}_getTooltipStyle(e){const t=l.g.fromNullable(this._el&&this._el.offsetParent);return Object(o.pipe)(l.g.map2((e,{target:t,alignment:n})=>{const a=t.getBoundingClientRect(),o=e.getBoundingClientRect();return{top:("top"===n?a.top-26:a.bottom)-o.top,left:a.left+a.width/2-o.left,opacity:1,visibility:"visible",transition:""}})(t,e),l.g.getOrElse(()=>({top:0,left:0,opacity:0,visibility:"none",transition:"none"})))}}},td1Z:function(e,t,n){"use strict";n.d(t,"a",(function(){return C})),n.d(t,"b",(function(){return k})),n.d(t,"c",(function(){return w}));var a=n("ERkP"),o=n("9NHN"),r=n("SN1b"),s=n("aIes"),i=n("D9EC"),l=n("mEc7"),c=n("XaD9"),m=n("ot6E"),d=n("Pe9T"),u=n("zoQI"),p=n("sWIT"),h=n("kbau"),g=n("D+6d"),b=n("meTN");function E(e){return e.replace(/\s+/g," ").trim().slice(0,25).replace(/\s+\S*$/,"")}const f=({doc:e,proofit:t,downloadProofread:n})=>{const o=a.useContext(m.a.Context);return t&&Object(g.c)(t.status)?a.createElement(r.a,{title:o.tooltipDownloadProofreadVersion},a.createElement(u.b,{name:"doc-download-proofit-btn",className:b.downloadProofread,onClick:()=>n(e.id)})):a.createElement("span",{"data-name":"doc-errors-count",className:b.count},e.errors>0&&a.createElement(r.a,{title:o.tooltipSuggestionsRemaining},a.createElement(l.d,{destination:l.a.routes.editor.href({docId:e.id.toString()}),className:b.countText},e.errors)))},v=Object(l.e)(({doc:e,docFeatures:t,onDeleteDocumentClick:n,proofit:i,downloadOriginal:l,downloadProofread:c},{telemetry:d})=>{const p=a.useContext(m.a.Context);return a.createElement("div",Object.assign({},Object(o.c)(b.actions,e.errors>0&&b.errors)),a.createElement(f,Object.assign({},{doc:e,proofit:i,downloadProofread:c})),a.createElement(r.a,{title:p.tooltipDownload},a.createElement(u.b,{name:"doc-download-btn",className:b.download,onClick:()=>l(t)})),a.createElement(r.a,{title:"Delete document"},a.createElement("div",{className:b.deleteWrapper},a.createElement(u.b,{name:"doc-delete-btn",className:b.remove,onClick:s.d.preventDefault(()=>(d.deleteDocument(e.id.toString()),n?n(e.id,e.title||E(e.firstContent)):null))}))))});function y(e,t,n){return a=>{a.preventDefault(),n&&n.show({type:"proofitLock",doc:e,downloadOriginal:t})}}const C=({document:e,proofit:t,onDeleteDocumentClick:n,labelClass:r,modal:s,features:c,downloadOriginal:m,downloadProofread:u})=>{const p=d.d.DocumentFeatures.fromDocument(e,c),h=t||e.proofit,f=!!h,C=f&&h&&Object(g.d)(h.status);return a.createElement("div",{className:b.itemWrapper},a.createElement(l.d,Object.assign({"data-name":"doc-item","data-name-id":e.id,"data-name-title":e.title,destination:l.a.routes.editor.href({docId:e.id.toString()})},Object(o.c)(b.item,r),{onClick:!0===C?y(p,m,s):i.e}),a.createElement("div",{"data-name":"doc-content",className:b.content},f&&a.createElement(g.a,{proofit:h}),a.createElement("div",{"data-name":"doc-title",className:b.title},e.title||E(e.firstContent)),a.createElement("span",{"data-name":"doc-first-content"},e.firstContent))),!0===C&&h?a.createElement(g.b,Object.assign({},h)):a.createElement(v,{doc:e,docFeatures:p,onDeleteDocumentClick:n,proofit:f?h:null,downloadOriginal:m,downloadProofread:u}))},k=({onCreateDocumentClick:e,documentUpload:t})=>{const{gnarSpec:n,pageId:r}=a.useContext(c.a.Context),s=a.useContext(m.a.Context);return a.createElement("div",{className:b.itemWrapper},a.createElement("div",Object.assign({"data-name":"new-doc-item"},Object(o.c)(b.item,b.newDoc)),a.createElement("div",{"data-name":"new-doc-content",className:b.content},a.createElement(u.b,{name:"new-doc-add-btn",className:b.add,onClick:e,role:"button"},"New")),a.createElement("div",{className:b.actions},a.createElement(u.b,{name:"new-doc-upload-btn",className:b.upload,onClick:()=>n.uploadDocumentButtonClick(r)},a.createElement("span",null,s.uploadText),a.createElement(h.a,{documentUpload:t,multiple:!0})))))},w=()=>a.createElement("div",{className:b.itemWrapper},a.createElement("div",{className:b.item},a.createElement(p.a,{size:8,className:b.spinner})))},v1xk:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var a=n("ERkP"),o=n("I7vG"),r=n("vOOZ"),s=n("hoSD"),i=n("q4n/"),l=n("lrqh"),c=n("zR/0"),m=n("kTRt"),d=n("gy42"),u=n("Xi00");class p extends a.Component{constructor(){super(...arguments),this._subs=[],this._outOfTarget=e=>t=>!s.c.Rect.hasPoint(t.getBoundingClientRect(),e)}componentDidMount(){this._listenTooltipAppearance()}componentWillUnmount(){this._subs.forEach(e=>e.unsubscribe()),this._subs=[],this.context.hide()}render(){return a.createElement(r.a.div,{"data-role":"tooltip"},this.context.state.view(this.props.children))}_listenTooltipAppearance(){const e=c.a.fromEvent(document,"keydown").pipe(c.a.filter(e=>e.keyCode===i.a.ESC_CODE)),t=c.a.fromEvent(document,"mousedown").pipe(c.a.withLatestFrom(this.context.state),c.a.filter(([e,t])=>Object(o.pipe)(t,l.g.map(e=>e.target),l.g.filter(()=>s.c.isDisabled(e.target)),l.g.forAll(this._outOfTarget({x:e.clientX,y:e.clientY}))))),n=c.a.mergeStatic(e,t,c.a.fromEvent(document,"scroll"),m.a.observe.pipe(c.a.filter(e=>"show"===e.detail))).pipe(c.a.mapTo(d.b.voidValue),c.a.share());this._subs=[this.context.hasContent.pipe(c.a.filter(Boolean),c.a.switchMapTo(n.pipe(c.a.first()))).subscribe(this.context.hide),this.context.hasContent.pipe(c.a.filter(Boolean),c.a.switchMapTo(c.a.mergeStatic(d.b.delay(!0,500),n.pipe(c.a.mapTo(!1))).pipe(c.a.first())),c.a.filter(Boolean)).subscribe(this.context.show)]}}p.contextType=u.a.Context},xpRD:function(e,t,n){e.exports=n.p+"files/8c7968ff9f102dfc30e613057ce8e488/arrow_right_icon.svg"},xs9a:function(e,t,n){e.exports=n.p+"files/5cb1e5c72d9cf916ba0c1a3777ed045a/blue_icon.svg"},zoQI:function(e,t,n){"use strict";n.d(t,"b",(function(){return h})),n.d(t,"a",(function(){return g})),n.d(t,"d",(function(){return b})),n.d(t,"f",(function(){return E})),n.d(t,"c",(function(){return f})),n.d(t,"e",(function(){return v}));var a=n("ERkP"),o=n("LNSM"),r=n("vOOZ"),s=n("9NHN"),i=n("zR/0"),l=n("hoSD"),c=n("aH3e"),m=n("sWIT"),d=n("WjLT");const u=({onClick:e=(()=>{}),disabled:t=!1,propagateClick:n=!1})=>{const a=function(e){return"boolean"!=typeof e?e:o.a.create(e)}(t),r=o.a.create(!1);return{onClick:function(e,t,n,a){return o=>{if(a||o.stopPropagation(),n())return Promise.resolve();let r;t(!0);try{r=e(o)}catch(o){throw t(!1),o}const s=Promise.resolve(r);return s.then(e=>t(!1)).catch(e=>t(!1)),s}}(e,e=>r.set(e),()=>a.get()||r.get(),n),isDisabled:a.pipe(i.a.combineLatest(r,(e,t)=>e||t))}},p=["size","color","transparent","className"],h=({children:e=null,onClick:t=(()=>{}),onMouseOver:n=(()=>{}),onMouseLeave:o=(()=>{}),onMouseOut:s=(()=>{}),disabled:i=!1,className:l="",role:c="button",name:m,style:d={},tabIndex:p=0,propagateClick:h})=>{const g=u({onClick:t,disabled:i,propagateClick:h});return a.createElement(r.a.div,Object.assign({"data-name":m,style:d,className:l,disabled:g.isDisabled,onClick:g.onClick,onKeyPress:e=>"Enter"===e.key&&g.onClick(e)},{onMouseOver:n,onMouseLeave:o,onMouseOut:s,role:c,tabIndex:p}),e)},g=e=>{const{children:t=null,className:n=""}=e,o=Object.assign(l.e.objectWithoutProperties(e,p),C(n,e)),r=y(e);return a.createElement(h,Object.assign({},o),t,r)},b=({className:e="",onClick:t=(()=>{}),disabled:n=!1,value:o="",style:s={},children:i=null,propagateClick:l})=>{const c=u({onClick:t,disabled:n,propagateClick:l});return a.createElement(r.a.button,{type:"submit",style:s,disabled:c.isDisabled,className:e,onClick:c.onClick},o,i)},E=e=>{const{children:t=null,className:n=""}=e,o=Object.assign(l.e.objectWithoutProperties(e,p),C(n,e)),r=y(e);return a.createElement(b,Object.assign({},o),t,r)},f=({name:e,href:t="",target:n="",children:o=null,className:s="",onClick:i=(()=>{}),disabled:l=!1,style:m={},download:d,propagateClick:p})=>{const{onClick:h,isDisabled:g}=u({onClick:i,disabled:l,propagateClick:p}),b=a.useContext(c.a.Context),E=!0!==d||b.has(c.a.Flag.canUseDownloadAttr)?n:"_blank";return a.createElement(r.a.a,Object.assign({},{"data-name":e,href:t,target:E,style:m,disabled:g,className:s,onClick:h,download:d}),o)},v=e=>{const{children:t=null,className:n=""}=e,o=Object.assign(l.e.objectWithoutProperties(e,p),C(n,e)),r=y(e);return a.createElement(f,Object.assign({},o),t,r)};function y({showSpinnerWhenDisabled:e=!1,transparent:t=!1,size:n="medium"}){return e?a.createElement(m.a,{color:t?void 0:"#fff",className:d.buttonSpinner,size:"small"===n?14:18}):null}function C(e,{size:t="medium",color:n="red",transparent:a=!1,showSpinnerWhenDisabled:o=!1}){return Object(s.c)(d.button,d[t],d[n],a&&d.transparent,o&&d.hasSpinner,e)}}}]);